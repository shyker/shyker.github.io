(self.modernJsonp=self.modernJsonp||[]).push([["36510"],{76344(e,o,a){a.r(o),a.d(o,{default:()=>t});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardHeaderOverflowMenuFragment_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null}],storageKey:null}],type:"V3GetBoard",abstractKey:null};r.hash="5eb01f50884761ae6dfcf21978f9b0cd";let t=r},875318(e,o,a){a.d(o,{A:()=>t,c:()=>r});let r=e=>"phone"===e?55:80;function t(e,o){return o?0:r(e)}},525839(e,o,a){a.d(o,{A:()=>i});var r=a(657140),t=a(105321),l=a(835122);let i=(e="throttle")=>{let[o,a]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let o="throttle"===e?(0,l.A)(()=>a(window.scrollY),10):(0,t.A)(()=>a(window.scrollY),10);return window.addEventListener("scroll",o),()=>{window.removeEventListener("scroll",o)}},[e]),o}},330932(e,o,a){a.d(o,{A:()=>d});var r=a(335831),t=a(657140),l=a(836737),i=a(834480),n=a(135656);let s={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};function d({children:e,forwardRef:o,overrideTop:a=0,position:d="static",shouldShowShadow:c=!1,top:u,zIndex:_,style:h={}}){(0,t.useEffect)(()=>{(0,r.A)("ContentHeader","/app/www/ContentHeader.tsx")},[]);let{currentScrollPosition:b,isScrolled:p,setSubheaderShadow:m}=(0,i.j)();(0,t.useEffect)(()=>(c&&m("contentHeader"),()=>{c&&m(null)}),[c]);let f=!1;"pending"!==u&&(f=null!=u?b>=u:p);let x=(0,n.jsx)(l.az,{ref:o,dangerouslySetInlineStyle:{__style:{position:d,...h,...f&&c&&{...s,zIndex:499}}},children:e});return"sticky"===d?(0,n.jsx)(l.ib,{top:a,zIndex:_,children:x}):x}},939099(e,o,a){a.d(o,{IQ:()=>i,bh:()=>l,im:()=>r,k9:()=>t});let r={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},t={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function l(e){return!!e&&e.severity===t.ABUSIVE}let i="THIRD_PARTY_TL"},834480(e,o,a){a.d(o,{I:()=>d,j:()=>s});var r=a(657140),t=a(767216),l=a(835122),i=a(135656);let{Provider:n,get:s}=(0,t.A)("HeaderShadow");function d({children:e}){let[o,a]=(0,r.useState)(!1),[t,s]=(0,r.useState)(!1),[d,c]=(0,r.useState)(0),[u,_]=(0,r.useState)(null),h=(0,l.A)(()=>{o&&(s(window.scrollY>0),c(window.scrollY))},50);return(0,r.useEffect)(()=>(a(!0),()=>{a(!1)}),[]),(0,r.useEffect)(()=>(window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}),[o]),(0,i.jsx)(n,{value:{currentScrollPosition:d,isScrolled:t,setSubheaderShadow:_,subheaderShadow:u},children:e})}},651727(e,o,a){a.d(o,{A:()=>eo});var r=a(335831),t=a(657140),l=a(836737),i=a(528989),n=a(491149),s=a(548588),d=a(699418),c=a(969168),u=a(905995),_=a(135656);function h({description:e,isArchived:o,isAuthenticated:a,isAutomagical:i=!1,isFeaturedBoard:s=!1,isSecret:d,isSeoBot:h,lastModified:b,pinCount:p,sectionCount:m,showEditorialBoardTag:f,showPinCount:x=!0,subtitle:g,tagTitle:w,topicName:A}){(0,t.useEffect)(()=>{(0,r.A)("BoardHeaderDescription","/app/www/board/duplo/BoardHeaderDescription.tsx")},[]);let y=(0,n.qJ)();return(0,_.jsx)(l.so,{alignItems:"center",direction:"column",justifyContent:"start",width:y?void 0:"100%",children:(0,_.jsxs)(l.az,{dangerouslySetInlineStyle:{__style:{flexDirection:"column-reverse",gap:"12px"}},display:"flex",width:"100%",children:[!!e&&(0,_.jsx)(l.KJ,{align:"start",inline:!0,size:"300",children:(0,_.jsx)(c.A,{description:e,isSeoBot:h,topicName:A})}),(0,_.jsx)(l.KJ,{color:"subtle",inline:!0,overflow:"noWrap",size:"200",children:(0,_.jsx)(u.A,{fontSize:"200",isArchived:o,isAutomagical:i,isFeaturedBoard:s,isSecret:d,lastModified:!a&&b?b:void 0,pinCount:p||0,sectionCount:m||0,showEditorialBoardTag:f,showPinCount:x,subtitle:g,tagTitle:w})})]})})}var b=a(129625),p=a(47998),m=a(396901),f=a(51968),x=a(410899),g=a(376195),w=a(488265),A=a(945725);function y({user:e}){let o=e?.verified_identity?.verified,a=e?.is_verified_merchant,r=o||a,t=(0,w.A)(),{logContextEvent:i}=(0,b.o)(),n=e?.is_ads_only_profile&&e.ads_only_profile_site,s=e?.ads_only_profile_site&&n?e.ads_only_profile_site:`/${e?.username??""}/`;return(0,_.jsx)(l.az,{"data-test-id":"user-rep",display:"inlineBlock",children:(0,_.jsx)(l.N_,{href:s,onClick:()=>{t({action:"click",item:"user-rep"}),n?i({event_type:9371,element:13382,component:13798,view_parameter:3070,object_id_str:e?.id,aux_data:{aop_origin:"BoardHeaderDescriptionNames"}}):i({event_type:102,component:13798,view_parameter:3070,object_id_str:e?.id})},rel:n?"nofollow":"none",tapStyle:"compress",target:n?"blank":null,underline:"auto",children:(0,_.jsx)(l.KJ,{inline:!0,weight:"bold",children:(0,_.jsxs)(l.so,{alignItems:"center",children:[e?.full_name,r&&(0,_.jsx)(l.az,{"data-test-id":a?"verifiedMerchantBadge":"verifiedPinnerBadge",display:"inlineBlock",marginStart:1,children:(0,_.jsx)(A.A,{isVerifiedMerchant:a,showVerifiedIdentity:o,size:"md"})})]})})})})}function v({collaborators:e,boardOwnerId:o,collaboratorsAmount:a}){(0,t.useEffect)(()=>{(0,r.A)("BoardHeaderDescriptionNames","/app/www/board/duplo/BoardHeaderDescriptionNames.tsx")},[]);let i=(0,m.A)(),n=(0,f.A)(),{locale:s}=(0,g._8)(),d=(0,p.A)(),c=d.isAuth?d.id:void 0;if(!e.length)return null;let u=[...e.filter(({id:e})=>e===o),...e.filter(({id:e})=>e===c&&e!==o),...e.filter(({id:e})=>![o,c].includes(e))],h=u[0],b=u[1];if(u.some(({id:e})=>e===c))return null;let w=u.length,A="";if(w>3){let e=u[2],o=i.bt("来自 {{ownerName}}、{{ secondCollaborator}}、{{ thirdCollaborator }} 和 {{collaboratorCount}}", "By {{ownerName}}, {{ secondCollaborator}}, {{ thirdCollaborator }} and {{collaboratorCount}}", "BoardHeaderDescriptionNames.Redesign.CollabNamesMoreThan3", undefined, true),r=(null!=a?a+1:u.length)-3;A=(0,x.vQ)(o,{ownerName:(0,_.jsx)(y,{user:h},h.id),secondCollaborator:(0,_.jsx)(y,{user:b},b.id),thirdCollaborator:(0,_.jsx)(y,{user:e},e.id),collaboratorCount:(0,_.jsx)(l.KJ,{inline:!0,weight:"bold",children:(0,x.vQ)(i.nbt(["其他 {{collaboratorsCount}} 位合作用户"], r, "BoardHeaderDescriptionNames.CollabNamesMoreThan2Text", true),{collaboratorsCount:n(s,r,{})})},"collaborator-count")})}if(3===w){let e=u[2],o=i.bt("来自 {{ownerName}}、{{ secondCollaborator}} 和 {{ thirdCollaborator }}", "By {{ownerName}}, {{ secondCollaborator}} and {{ thirdCollaborator }}", "BoardHeaderDescriptionNames.Redesign.CollabNames3", undefined, true);A=(0,x.vQ)(o,{ownerName:(0,_.jsx)(y,{user:h},h.id),secondCollaborator:(0,_.jsx)(y,{user:b},b.id),thirdCollaborator:(0,_.jsx)(y,{user:e},e.id)})}if(2===w){let e=i.bt("来自 {{ownerName}} 和 {{ secondCollaborator}}", "By {{ownerName}} and {{ secondCollaborator}}", "BoardHeaderDescriptionNames.Redesign.CollabNames2", undefined, true);A=(0,x.vQ)(e,{ownerName:(0,_.jsx)(y,{user:h},h.id),secondCollaborator:(0,_.jsx)(y,{user:b},b.id)})}if(1===w){let e=i.bt("来自 {{ownerName}}", "By {{ownerName}}", "BoardHeaderDescriptionNames.Redesign.CollabNames1", undefined, true);A=(0,x.vQ)(e,{ownerName:(0,_.jsx)(y,{user:h},h.id)})}return A}var j=a(278461),z=a(731634),B=a(746743),C=a(220527),S=a(604050),P=a(432675),O=a(806780);let T=(0,t.lazy)(()=>Promise.resolve().then(a.bind(a,794196))),I=({board:e,onAddCollab:o,collaborators:a,boardOwnerId:i,canAddCollaborators:n})=>{(0,t.useEffect)(()=>{(0,r.A)("BoardPageFacepiles","/app/www/board/duplo/BoardPageFacepiles.tsx")},[]);let s=(0,p.A)(),d=s.isAuth?s.id:void 0,c=(0,j.Zp)(),u=(0,t.useRef)(null),h=(0,t.useRef)(null),{logContextEvent:m}=(0,b.o)(),f=(0,w.A)(),x=(0,S.A)(),[g,A]=(0,t.useState)(!1),y=[...a.filter(({id:e})=>e===i),...a.filter(({id:e})=>e===d&&e!==i),...a.filter(({id:e})=>![i,d].includes(e))],{displayedCollaborators:v,nonDisplayedCollaboratorCount:I}=(0,O.A)({boardCollaboratorCount:e.collaborator_count,collaborators:y}),M=v.map(e=>({name:e.username??"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":e.image_medium_url??""})),k=x({fn:()=>{e.id&&n?c(`/board/${e.id}/edit/collaborators/`):A(!g)}}),H=y[0].is_ads_only_profile&&y[0].ads_only_profile_site;return(0,_.jsxs)(t.Fragment,{children:[(0,_.jsx)(l.so,{alignItems:"stretch",flex:"none",justifyContent:"start",children:(0,_.jsxs)(l.az,{ref:h,display:"flex",children:[(0,_.jsx)(P.A,{addButtonRef:u,avatarSize:"sm",collaboratorCount:a.length-1,displayedCollaborators:M,nonDisplayedCollaboratorCount:I,onClick:()=>{f({action:"click",item:"user-rep-avatar"}),y.length>1||n?k():H?(m({event_type:9371,element:13382,aux_data:{aop_origin:"BoardPageFacepiles"}}),window.open(v[0].ads_only_profile_site,"_blank")):c(`/${y[0].username??""}`)},showAddButton:n}),(0,_.jsx)(B.xe,{anchors:{4002:u.current},onCompleteByAnchor:{4002:o},placementId:1000251,positionRelativeToAnchor:!1})]})}),g&&(0,_.jsx)(z.A,{name:"SafeSuspense_BoardPageFacePiles_BoardCollabFlyout",children:(0,_.jsx)(C.A,{children:(0,_.jsx)(T,{anchor:h.current,board:e,onDismiss:()=>{A(!1)}})})})]})};var M=a(25204),k=a(130331),H=a(600727);function E({board:e,canAddCollaborators:o,isAuthenticated:a,isBoardPreviewMode:i,isOwnerOrCollaborator:n,isSeoBot:s,onAddCollab:c,pinCount:u,showPinCount:b=!0}){(0,t.useEffect)(()=>{(0,r.A)("BoardHeader","/app/www/board/duplo/BoardHeader.tsx")},[]);let{archived_by_me_at:p,automagical_board_metadata:m,board_order_modified_at:f,collaborating_users:x=[],collaborator_count:g,description:w,featured_board_metadata:A,id:y,layout:j,owner:z={},section_count:B,sensitivity:C,should_show_board_collaborators:S}=e,{curator:P,is_sponsored_content:O}=A||{},{board_type:T,tag_title:E,tagline:N,topic_name:R,upcoming_update_date_text:F}=m||{},D=O&&P?(0,d.A)(P):null,L=n&&!i,K=S&&x.length>0,J=(0,t.useMemo)(()=>{let e=[];return P?e.push(P):z&&e.push(z),K&&e.push(...x),e},[x,P,z,K]),Y=(0,M.bh)(C),U=A?.board_tag;return(0,_.jsxs)(t.Fragment,{children:[(0,_.jsx)(l.az,{alignItems:"center",display:"flex",justifyContent:"start",marginTop:3,width:"100%",wrap:!0,children:(0,_.jsx)(h,{description:w,isArchived:!!p,isAuthenticated:a,isAutomagical:"automagical"===j,isFeaturedBoard:(0,H.A)(e),isSecret:e?.privacy==="secret",isSeoBot:s,lastModified:f,pinCount:u??0,sectionCount:B,showEditorialBoardTag:"number"==typeof U&&U>=0,showPinCount:b,subtitle:2===T?N:F,tagTitle:E,topicName:R},y)}),"automagical"!==j&&(0,_.jsxs)(l.az,{marginTop:3,children:[!L&&D&&(0,_.jsx)(k.A,{board:e,collaborator:(()=>{if(!K||!D)return;let e=J.find(e=>e.id!==D.id);return e?(0,d.A)(e):void 0})(),sponsor:D}),(L||!D)&&(0,_.jsxs)(l.so,{alignItems:"center",dataTestId:"collaborator-avatar-group-and-names-container",direction:"row",gap:2,children:[!Y&&(0,_.jsx)(I,{board:e,boardOwnerId:z.id,canAddCollaborators:o&&!i,collaborators:J,onAddCollab:c},"boardPageFace"),(0,_.jsx)(l.az,{alignItems:"start",direction:"column",display:"flex",height:"100%",justifyContent:"center",marginStart:0,wrap:!0,children:(0,_.jsx)(l.KJ,{align:"start",inline:!0,size:"300",children:(0,_.jsx)(v,{boardOwnerId:z?.id??"",collaborators:J,collaboratorsAmount:g})})},"boardPageName")]})]})]})}var N=a(833033),R=a(52111),F=a(925097),D=a(473478),L=a(162865),K=a(233944),J=a(625277),Y=a(119795);function U({action:e,alignCenter:o,auxData:a={}}){(0,t.useEffect)(()=>{(0,r.A)("CallToAction","/app/www/ContentSensitivity/CallToAction.tsx")},[]);let i=(0,K.A)(),s=(0,n.qJ)(),{title:d,description:c,button:u}=e,h=d&&d.text,b=c&&c.text,p=u&&u.text||"",m=u&&u.link||"";return(0,_.jsxs)(l.so,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[!!h&&(0,_.jsx)(l.KJ,{align:o?"center":"start",weight:"bold",children:h}),!!b&&(0,_.jsx)(l.KJ,{align:o?"center":"start",children:b}),!!(u&&p&&m)&&(0,_.jsx)(l.az,{paddingY:3,children:(0,_.jsx)(l.$n,{color:"tertiary",fullWidth:!0,onClick:()=>{(0,M.rt)({logContextEvent:i,auxData:{url:m,...a},isDesktop:s}),window.location.replace(m)},text:p})})]})}var $=a(917357),W=a(462206),q=a(892804);let G={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},Q={backgroundColor:"#DDF3F2",...G},V={backgroundColor:"#21374B",...G};function X({alignCenter:e,boardId:o,boardName:a,boardSectionId:s,notice:d,viewType:c,viewParameter:u,query:h,sensitivity:b}){(0,t.useEffect)(()=>{(0,r.A)("SensitiveContentNotice","/app/www/ContentSensitivity/SensitiveContentNotice.tsx")},[]);let{isDarkMode:p}=(0,J.D2)(),m=(0,K.A)(),f=d?.actions??[],x=d?.description,w=x?.text||"",A=x?.text_tags||[],y=d?.title,v=d?.footer,{checkExperiment:j}=(0,i.A)(),z=(0,g._8)(),B=(0,n.qJ)(),C={advisory_level:b?.advisory,entered_query:h,severity_level:b?.severity,stage:z.stage,advisory_type:b?.advisory_type,resource_country:b?.resource_country},S=(0,$.A)(w,A,m,C,B);return((0,Y.A)(()=>{c&&(m({aux_data:C,event_type:120,component:13367,view_parameter:u,view_type:c}),(0,q.U9)("webapp.advisories.view",1,{sampleRate:1,tags:{advisory_level:C.advisory_level,advisory_type:C.advisory_type,app:B?"DESKTOP_WEB":"MOBILE_WEB",resource_country:C.resource_country,placement:5===c?"board":"search"}})),o&&5===c&&m({aux_data:{board_id:o,board_section_id:s??0},component:178,event_type:15549,view_parameter:u,view_type:c})}),j("ps_board_advisories_ui_refresh").anyEnabled)?(0,_.jsx)(t.Fragment,{children:b?.notices?.map(e=>(0,_.jsx)(W.A,{boardId:o,boardName:a,boardSectionId:s,notice:e,objectType:5,sensitivity:b,viewParameter:u,viewType:5},e.id))}):(0,_.jsxs)(l.az,{children:[(0,_.jsxs)(l.az,{dangerouslySetInlineStyle:{__style:p?V:Q},"data-test-id":"search-advisory",margin:"auto",marginBottom:8,marginTop:6,maxWidth:"800px",padding:6,rounding:200,children:[!!y&&(0,_.jsx)(l.az,{display:"flex",justifyContent:e?"center":void 0,marginBottom:3,children:(0,_.jsx)(l._Y,{size:"600",children:y})}),!!w&&(0,_.jsx)(l.az,{marginBottom:4,children:(0,_.jsx)(l.KJ,{size:"100",children:S})}),f.map(o=>(0,_.jsx)(l.az,{paddingY:2*(f.length>1),children:(0,_.jsx)(U,{action:o,alignCenter:e,auxData:C})},o.id))]}),!!v&&(0,_.jsx)(l.az,{marginTop:4,children:(0,_.jsx)(l.KJ,{color:"subtle",size:"100",children:(0,_.jsx)(L.Ay,{options:{overrides:{b:{component:({children:e})=>(0,_.jsx)(l.N_,{display:"inlineBlock",href:v.link??"",onClick:()=>{(0,M.rt)({logContextEvent:m,auxData:{url:v.link,...C},isDesktop:B})},target:"blank",children:(0,_.jsx)(l.KJ,{color:"subtle",size:"100",weight:"bold",children:e})},v.link)}}},children:v.text})})})]})}var Z=a(581931),ee=a(910263);function eo({blockedByMe:e,board:o,children:a,getUnauthDesktopBoardActions:d,isAuthenticated:c,isBoardPreviewMode:u,isSeoBot:h=!1,setInviteCollaboratorsModalIsOpen:b=()=>{},showPinCount:p=!0,viewParameter:m}){let f;(0,t.useEffect)(()=>{(0,r.A)("BoardHeaderMetadata","/app/www/board/Header/BoardHeaderMetadata.tsx")},[]);let{collaborated_by_me:x,collaborator_invites_enabled:g,featured_board_metadata:w,id:A,name:y,owner:v,pin_count:j,sensitivity:z}=o,B=(0,D.A)(!!x),C=(0,F.A)(v?.id),S=(C||B&&g)??!1,P=(0,n.qJ)(),O=(0,M.bh)(z),{checkExperiment:T}=(0,i.A)(),I=T("ps_board_advisories_ui_refresh").anyEnabled||O,k=(0,n.M)(),H=(0,n.wI)(),L=k||H,{isSmallerImage:K,isSmallScreen:J}=(0,ee.A)(),Y=B||C,{board_subtitle:U}=w||{},$=P&&!c,W=o.header?.large_image_url||null,q=L&&!!W,G=2*!!k;return $&&W&&(f=J?{__style:{flexDirection:"column-reverse",gap:"32px"}}:{__style:{gap:"64px"}}),(0,_.jsxs)(t.Fragment,{children:[(0,_.jsx)(s.A,{isGetServerRenderGridHeaderStyles:P,maxColumns:5,children:(0,_.jsxs)(l.az,{alignItems:$&&(J||!W)?"start":"stretch",dangerouslySetInlineStyle:f,direction:"row",display:"flex",justifyContent:"between",paddingX:2*!P,paddingY:P?8:void 0,children:[(0,_.jsx)(l.so,{alignItems:"center",justifyContent:$?"between":"center",width:k?"100%":void 0,children:(0,_.jsxs)(l.az,{column:12,"data-test-id":"board-header",marginBottom:L&&C?4:2*!!k,marginTop:2*!!k,maxWidth:750,children:[U&&!q&&(0,_.jsx)(l.az,{marginBottom:2,children:(0,_.jsx)(l.KJ,{weight:"bold",children:U})}),!q&&(0,_.jsx)(l.az,{"data-test-id":"board-title",maxWidth:750,children:(0,_.jsx)(l._Y,{accessibilityLevel:1,align:"start",overflow:"breakWord",size:k?"600":void 0,children:y})}),(0,_.jsx)(E,{blockedByMe:e,board:o,canAddCollaborators:S,isAuthenticated:c,isBoardPreviewMode:u,isOwnerOrCollaborator:C||B,isSeoBot:h,onAddCollab:()=>b(!0),pinCount:j,showPinCount:p})]})}),$&&d&&(0,_.jsx)(l.az,{alignItems:"start",direction:"row",display:"flex",justifyContent:"center",marginBottom:G,marginTop:G,children:W?(0,_.jsx)(Z.A,{boardActions:d(),imageUrl:W,imageWidth:K?ee.W:void 0}):d()})]})}),I&&(0,M.dB)(z)&&z&&(0,_.jsx)(l.az,{paddingY:2,children:(0,_.jsx)(X,{boardId:A,boardName:y,notice:z.notices?.[0],sensitivity:z,viewParameter:m,viewType:5})}),Y&&!u&&(0,_.jsx)(l.az,{paddingX:2,children:(0,_.jsx)(N.A,{boardId:A,horizontalAlignment:"start",isBoardEmpty:!j,toolSize:72})}),a&&(0,_.jsx)(l.az,{children:a}),(C||B)&&(0,_.jsx)(R.A,{boardId:A,surface:"board"})]})}},652489(e,o,a){a.d(o,{A:()=>B});var r=a(335831),t=a(657140),l=a(836737),i=a(625277),n=a(746743),s=a(581650),d=a(47998),c=a(396901),u=a(97816),_=a(875318),h=a(491149),b=a(525839),p=a(33732),m=a(924660),f=a(472262),x=a(135656);function g(e){let o=(0,c.A)(),{isRequestedByMe:a,toggle:r,size:t}=e,i=a?o.bt("取消申请", "Cancel request", "[Button] Cancel request to join a group board as a collaborator", undefined, true):o.bt("加入", "Join", "BoardJoinButton.RequestToJoinText", undefined, true);return(0,x.jsx)(l.$n,{fullWidth:!0,onClick:r,size:t,text:i})}function w(e){(0,t.useEffect)(()=>{(0,r.A)("BoardJoinButton","/app/www/BoardJoinButton.tsx")},[]);let{isRequestedByMe:o,boardId:a}=e,l=(0,m.wA)(),i=(0,d.A)(),n=(0,f.z1)();return(0,x.jsx)(g,{...e,toggle:()=>{o?l((0,f.z$)(a,i.isAuth?i.id:"")):l(n(a))}})}var A=a(330932),y=a(959138),v=a(644094),j=a(855214);let z=()=>{};function B({blockedByMe:e=!1,board:o,canEdit:a=!1,isBoardPreviewMode:m=!1,isOwnerOrCollaborator:f=!1,isSensitive:g,isSeoBot:B=!1,onShowAbout:C,openSendBoardModal:S,setBoardPreviewMode:P,shareButtonRef:O,shouldUseFallbackUrl:T=!0,showAboutRecommendationOption:I=!1,showFollowOption:M=!1,showLearnMoreAboutBoardOption:k=!1,showOverflowMenuMobile:H,showReportOption:E=!1,showSeoMoreActionsButton:N=!1,showShareButtonMobile:R=!1,showShareOptionInOverflowMenu:F=!1,showSwitchPreviewMode:D=!1,slug:L="",stickyHeaderRef:K,username:J="",viewParameter:Y}){(0,t.useEffect)(()=>{(0,r.A)("MobileBoardFixedHeader","/app/www/board/Header/MobileBoardFixedHeader.tsx")},[]);let{isDarkMode:U}=(0,i.D2)(),$=(0,c.A)(),W=(0,d.A)(),{isAuth:q}=W,G=(0,b.A)("debounce"),Q=!q&&!B,V=(0,_.A)((0,h.Ay)(),q),{header:X,id:Z,name:ee,collaborator_requests_enabled:eo,viewer_collaborator_join_requested:ea}=o,er=!!X?.large_image_url,[et,el]=(0,t.useState)(er),[ei,en]=(0,t.useState)(!1),[es,ed]=(0,t.useState)(!1);(0,t.useEffect)(()=>{G<28?(er&&el(!0),en(!1)):(er&&el(!1),en(!0))},[er,G]),(0,t.useEffect)(()=>{el(er)},[er]);let ec=new l.K5([y.JE]);return(0,x.jsx)(A.A,{overrideTop:V,position:er?"fixed":"sticky",style:er?{zIndex:ec.index(),width:"calc(100% - 16px)"}:void 0,zIndex:ec,children:(0,x.jsx)(u.default,{isTransparentBackground:et,paddingY:2,children:(0,x.jsxs)(l.az,{ref:K,alignItems:"center",column:12,"data-test-id":"boardHeader",display:"flex",height:"100%",children:[!Q&&(0,x.jsx)(l.so,{children:(0,x.jsx)(v.default,{color:et||U?"light":"default",fallbackUrl:"/",shouldUseFallbackUrl:T,size:"lg"})}),ei&&(0,x.jsx)(l.az,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"start",marginEnd:0,marginStart:0,children:(0,x.jsx)(l.KJ,{align:"start",lineClamp:1,overflow:"breakAll",weight:"bold",children:ee})}),(0,x.jsx)(l.az,{flex:"grow"}),D&&P&&(0,x.jsx)(j.A,{isBoardPreviewMode:m,setBoardPreviewMode:P}),R&&S&&(0,x.jsxs)(l.az,{"data-test-id":"share-board-button",children:[(0,x.jsx)(l.K0,{ref:O,accessibilityLabel:$.bt("分享图板", "Share board", "boardHeaderOverflowMenu.iconButton.accessibilityLabel", undefined, true),icon:"share",iconColor:et||U?"light":"default",onClick:S,size:"lg"}),(0,x.jsx)(n.X$,{anchors:{4020:O?.current},idealDirection:"down",onAnchorTouch:"complete",placementId:1000251,scrollToDismiss:!0})]}),N&&C&&(0,x.jsxs)(t.Fragment,{children:[(0,x.jsx)(l.az,{"data-test-id":"seo-modal-board-button-mobile",children:(0,x.jsx)(l.K0,{accessibilityLabel:$.bt("更多操作", "More actions", "BoardHeader.SeoModalButton.Mobile", undefined, true),icon:"ellipsis",iconColor:et||U?"light":"default",onClick:()=>ed(!0),selected:es,size:"lg"})}),es&&(0,x.jsx)(s.default,{accessibilityModalLabel:$.bt("关闭", "Close", "BoardHeader.SeoContextMenu.Close", undefined, true),isOpen:!0,mobileAccessibilityCloseIconLabel:$.bt("关闭", "Close", "BoardHeader.SeoContextMenu.Close.Icon", undefined, true),onDismiss:()=>{ed(!1)},children:(0,x.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{paddingBottom:"70px"}},"data-test-id":"mobile-context-menu",marginStart:5,maxWidth:260,children:(0,x.jsx)(l.az,{marginBottom:4,children:(0,x.jsx)(l.KJ,{size:"200",children:$.bt("更多选项", "More options", "BoardHeader.SeoContextMenu.MoreOptions.Mobile", undefined, true)})})})})]}),H&&(0,x.jsx)(l.az,{flex:"none",children:(0,x.jsx)(p.A,{bgColor:"transparent",board:o,hideShare:!F,iconColor:et||U?"light":"default",iconSize:Q?"lg":void 0,isOwnerOrCollaborator:f,isSensitive:g,onShowAbout:C||z,openSendBoardModal:S||z,showAboutRecommendationOption:I,showFollowOption:M,showLearnMoreAboutBoardOption:k,showReportOption:E,slug:L,username:J,viewParameter:Y,viewType:578})}),q&&!a&&(0,x.jsx)(l.so,{alignItems:"center",justifyContent:"start",children:!e&&eo&&!W.isPrivateProfile&&(0,x.jsx)(l.az,{flex:"none",paddingX:1,children:(0,x.jsx)(w,{boardId:Z,isRequestedByMe:!!ea,size:"lg"})})})]})})})}},33732(e,o,a){a.d(o,{A:()=>H});var r,t=a(335831),l=a(657140),i=a(924660),n=a(654798),s=a(278461),d=a(836737),c=a(233944),u=a(746743),_=a(389598),h=a(388364),b=a(396901),p=a(410899),m=a(798923),f=a(488265),x=a(906494),g=a(491149),w=a(269768),A=a(57349),y=a(604050),v=a(577366),j=a(460377),z=a(507046),B=a(208190),C=a(321791),S=a(135656);function P({overflowMenuButtonRef:e,isDesktop:o}){return(0,S.jsx)(u.X$,{anchors:{[o?3001:4001]:e},idealDirection:"down",onAnchorTouch:"complete",placementId:o?18:1000251,scrollToDismiss:!0})}function O({handleClose:e,isMenuOpen:o,setMenuOpen:a,bgColor:r="lightGray",iconSize:t="sm",iconColor:i,children:n}){let s=(0,b.A)(),c=(0,l.useRef)(null);return(0,S.jsxs)(l.Fragment,{children:[(0,S.jsx)(d.az,{ref:c,children:(0,S.jsx)(d.K0,{accessibilityLabel:s.bt("更多图板选项", "More board options", "boardHeaderOverflowMenu.iconButton.accessibilityLabel", undefined, true),bgColor:{white:"default",lightGray:"secondary",transparent:"transparent"}[r],icon:"ellipsis",iconColor:i,onClick:()=>a(!o),selected:o,size:t})}),o&&(0,S.jsx)(d.ms,{anchor:c.current,disableMobileUI:!0,id:"more-board-options-desktop",idealDirection:"down",onDismiss:e,zIndex:new d.rk(1e3),children:n({handleClose:e})}),!o&&(0,S.jsx)(P,{isDesktop:!0,overflowMenuButtonRef:c.current})]})}function T({isSensitive:e,isOwnerOrCollaborator:o,onShowAbout:a,openSendBoardModal:r,username:t,hideShare:n,bgColor:u,iconColor:T,iconSize:I,archivedByMeAt:M,boardName:k,id:H,privacy:E,followByMe:N,showAboutRecommendationOption:R,showLearnMoreAboutBoardOption:F,showFollowOption:D,showReportOption:L,slug:K}){let J=(0,b.A)(),Y=(0,g.qJ)(),U=(0,y.A)(),$=(0,s.Zp)(),W=(0,i.wA)(),{showToast:q}=(0,x.CG)(),G=(0,f.A)(),[Q,V]=(0,l.useState)(!1),[X,Z]=(0,l.useState)(!1),ee=(0,c.A)(),[eo,ea]=(0,l.useState)(N),er=!!M,et=(0,l.useRef)(null),el=(0,C.oW)()(H),ei=()=>{V(!1),G({action:"click",item:"close-overflow-menu"})},en=()=>{V(!0),G({action:"click",item:"overflow-menu"})},es=()=>Z(!0),ed=er?(0,p.vQ)(J.bt("{{ boardName }} 图板已取消存档", "Unarchived {{ boardName }}", "boardHeaderOverflowMenu.onBoardUnarchive.toast", undefined, true),{boardName:k}).join(""):(0,p.vQ)(J.bt("{{ boardName }} 图板已存档", "Archived {{ boardName }}", "boardHeaderOverflowMenu.onBoardArchive.toast", undefined, true),{boardName:k}).join(""),ec=(0,S.jsx)(d.az,{height:32,width:32,children:(0,S.jsx)(w.default,{boardKey:el?{type:"Legacy",data:el}:null,type:"thumbnail",viewType:void 0})}),{lawImplementation:eu,inAppReporting:e_,createReportLink:eh}=(0,v.Ay)(),eb=eu&&function(e,o,a,r,t){if(!e)return null;let l=t({username:o,boardName:a}),i=`report-board-${e}`,n=`desktop.unauth.board.overflowmenu.${e}`,s=`mweb.unauth.board.overflowmenu.${e}`;return{href:l,label:r?.board||"",dataTestId:i,trackAction:n,mobileTrackAction:s}}(eu,t,K,e_,eh),ep=()=>{W((0,j.t)(H,t)).then(()=>{q(({hideToast:e})=>(0,S.jsx)(h.A,{_dangerouslySetThumbnail:ec,onHide:e,text:ed}))}),Z(!1),ei()},em=()=>{W((0,B.G)(H,t)).then(()=>{q(({hideToast:e})=>(0,S.jsx)(h.A,{_dangerouslySetThumbnail:ec,onHide:e,text:ed}))}),Z(!1),ei()},ef=()=>X?er?em:ep:()=>{},ex=er?J.bt("取消存档", "Unarchive", "boardHeaderOverflowMenu.archiveOptionTitle.UnarchiveBoard", undefined, true):J.bt("存档", "Archive", "boardHeaderOverflowMenu.archiveOptionTitle.ArchiveBoard", undefined, true),eg="secret"!==E&&!e&&!n,ew=o||eg||o||L||!!eb||R||F,[eA,ey]=(0,l.useState)(!1),ev=()=>ey(!1);if(!ew)return null;let ej={unfollow:J.bt("取消关注", "Unfollow", "BoardPage.ActionBar.EllipsisButton", undefined, true),follow:J.bt("关注", "Follow", "BoardPage.ActionBar.EllipsisButton", undefined, true)},ez=()=>{a(),Y?ev():ei()},eB=()=>{G({action:"click",item:"learn-more-about-board"}),Y?(a(),ev()):(ei(),a(en))};return Y?(0,S.jsx)(O,{bgColor:u,handleClose:ev,iconColor:T,iconSize:I,isMenuOpen:eA,setMenuOpen:ey,children:()=>(0,S.jsxs)(d.ms.Section,{label:J.bt("图板选项", "Board options", "profileHeader.actionBar.overflow.header", undefined, true),children:[R&&(0,S.jsx)(d.ms.Item,{dataTestId:"about-recommendations",onSelect:ez,option:{label:J.bt("关于为你量身定制的图板", "About boards made for you", "BoardHeader.BoardOptionsFlyout.AboutBoardsForYouOption", undefined, true),value:J.bt("关于为你量身定制的图板", "About boards made for you", "BoardHeader.BoardOptionsFlyout.AboutBoardsForYouOption", undefined, true)}}),F&&(0,S.jsx)(d.ms.Item,{dataTestId:"learn-more-about-board",onSelect:eB,option:{label:J.bt("了解关于此图板的更多信息", "Learn more about this board", "BoardHeader.SeoContextMenu.LearnMore", undefined, true),value:"learn-more"}}),o&&(0,S.jsx)(d.ms.Item,{dataTestId:"edit-board",onSelect:U({fn:()=>{$(`/board/${H}/edit/`,{replace:!0})}}),option:{label:J.bt("编辑图板", "Edit board", "boardHeaderOverflowMenu.boardOptions.editButton", undefined, true),value:J.bt("编辑图板", "Edit board", "boardHeaderOverflowMenu.boardOptions.editButton", undefined, true)}}),eg&&(0,S.jsx)(d.ms.Item,{dataTestId:"share-board",onSelect:r,option:{label:J.bt("分享", "Share", "boardHeaderOverflowMenu.boardOptions.shareBoardButton", undefined, true),value:J.bt("分享", "Share", "boardHeaderOverflowMenu.boardOptions.shareBoardButton", undefined, true)}}),o&&(0,S.jsx)(d.ms.Item,{dataTestId:"archive-board",onSelect:es,option:{label:ex,value:ex}}),L&&(0,S.jsx)(d.ms.Link,{dataTestId:"report-board",href:`/board/${H}/report/`,option:{label:J.bt("举报", "Report", "ProfileOptions.ReportUser", undefined, true),value:J.bt("举报", "Report", "ProfileOptions.ReportUser", undefined, true)}}),eb&&(0,S.jsx)(d.ms.Link,{dataTestId:eb.dataTestId,href:eb.href,onClick:({event:e,dangerouslyDisableOnNavigation:o})=>{e.preventDefault(),o(),(0,m.PM)(eb.trackAction),window.open(eb.href,"_blank")},option:{label:eb.label,value:eb.label}}),(0,S.jsx)(A.A,{fullName:k,isOpen:X,onConfirm:ef(),onDismiss:()=>Z(!1),type:M?"unarchive":"archive"})]})}):(0,S.jsxs)(l.Fragment,{children:[(0,S.jsx)(d.az,{display:"inlineBlock",children:(0,S.jsxs)(d.az,{"data-test-id":"board-overflow-menu-button-mobile",children:[(0,S.jsx)(d.K0,{ref:et,accessibilityLabel:J.bt("更多图板选项", "More board options", "boardHeaderOverflowMenu.iconButton.accessibilityLabel", undefined, true),bgColor:u?({white:"default",lightGray:"secondary",transparent:"transparent"})[u]:"default",icon:"ellipsis",iconColor:T,onClick:en,selected:Q,size:I||"lg"}),(0,S.jsx)(P,{isDesktop:Y,overflowMenuButtonRef:et.current})]})}),(0,S.jsx)(_.Ay,{accessibilityModalLabel:J.bt("更多选项", "More options", "boardHeaderOverflowMenu.moreOptions", undefined, true),isOpen:Q,mobileHideCloseIcon:!0,onDismiss:ei,type:"block_button",children:(0,S.jsx)(d.az,{paddingX:5,paddingY:6,children:(0,S.jsxs)(d.so,{direction:"column",gap:{row:0,column:2},children:[(0,S.jsx)(d.KJ,{size:"300",weight:"bold",children:J.bt("图板选项", "Board options", "boardHeaderOverflowMenu.boardOptions", undefined, true)}),R&&(0,S.jsx)(d.Rp,{fullWidth:!1,onTap:ez,rounding:"circle",children:(0,S.jsx)(d.az,{"data-test-id":"about-recommendations",children:(0,S.jsx)(d._Y,{size:"400",children:J.bt("关于为你量身定制的图板", "About boards made for you", "BoardHeader.BoardOptionsFlyout.AboutBoardsForYouOption", undefined, true)})})}),F&&(0,S.jsx)(d.Rp,{fullWidth:!1,onTap:eB,rounding:"circle",children:(0,S.jsx)(d.az,{"data-test-id":"learn-more-about-board",children:(0,S.jsx)(d._Y,{size:"400",children:J.bt("了解关于此图板的更多信息", "Learn more about this board", "BoardHeader.SeoContextMenu.LearnMore", undefined, true)})})}),o&&(0,S.jsx)(d.Rp,{fullWidth:!1,onTap:U({fn:()=>{$(`/board/${H}/edit/`,{replace:!0})}}),rounding:"circle",children:(0,S.jsx)(d.az,{"data-test-id":"edit-board",children:(0,S.jsx)(d._Y,{size:"400",children:J.bt("编辑图板", "Edit board", "boardHeaderOverflowMenu.boardOptions.editButton", undefined, true)})})}),eg&&(0,S.jsx)(d.Rp,{fullWidth:!1,onTap:r,rounding:"circle",children:(0,S.jsx)(d.az,{"data-test-id":"share-board",children:(0,S.jsx)(d._Y,{size:"400",children:J.bt("分享", "Share", "boardHeaderOverflowMenu.boardOptions.shareBoardButton", undefined, true)})})}),o&&(0,S.jsx)(d.Rp,{fullWidth:!1,onTap:es,rounding:"circle",children:(0,S.jsx)(d.az,{"data-test-id":"archive-board",children:(0,S.jsx)(d._Y,{size:"400",children:ex})})}),D&&(0,S.jsx)(d.Rp,{fullWidth:!1,onTap:()=>{eo?(W((0,z.X)(H,ee)),ea(!1)):(W((0,z.e)(H,ee)),ea(!0))},rounding:"circle",children:eo?(0,S.jsx)(d.az,{"data-test-id":"unfollow-board",children:(0,S.jsx)(d._Y,{size:"400",children:ej.unfollow})}):(0,S.jsx)(d.az,{"data-test-id":"follow-board",children:(0,S.jsx)(d._Y,{size:"400",children:ej.follow})})}),L&&(0,S.jsx)(d.az,{"data-test-id":"report-board",children:(0,S.jsx)(d._Y,{size:"400",children:(0,S.jsx)(d.N_,{accessibilityLabel:J.bt("举报", "Report", "ProfileOptions.ReportUser", undefined, true),href:`/board/${H}/report/`,underline:"none",children:J.bt("举报", "Report", "ProfileOptions.ReportUser", undefined, true)})})}),eb&&(0,S.jsx)(d.az,{"data-test-id":eb.dataTestId,children:(0,S.jsx)(d._Y,{size:"400",children:(0,S.jsx)(d.N_,{accessibilityLabel:eb.label,href:eb.href,onClick:()=>(0,m.PM)(eb.mobileTrackAction),target:"blank",underline:"none",children:eb.label})})}),(0,S.jsx)(d.az,{"data-test-id":"close-board-options-mobile",display:"flex",justifyContent:"center",marginTop:3,children:(0,S.jsx)(d.$n,{color:"secondary",onClick:ei,size:"lg",text:J.bt("关闭", "Close", "boardHeaderOverflowMenu.boardOptions.closeModal", undefined, true)})}),(0,S.jsx)(A.A,{fullName:k,isOpen:X,onConfirm:ef(),onDismiss:()=>Z(!1),type:M?"unarchive":"archive"})]})})})]})}function I({board:e,isSensitive:o,isOwnerOrCollaborator:a,onShowAbout:r,openSendBoardModal:t,username:l,hideShare:i,bgColor:n,iconSize:s,iconColor:d,showReportOption:c,viewType:u,viewParameter:_,showAboutRecommendationOption:h,showFollowOption:b,slug:p}){return(0,S.jsx)(T,{archivedByMeAt:e.archived_by_me_at,bgColor:n,boardName:e.name,followByMe:e.followed_by_me,hideShare:i,iconColor:d,iconSize:s,id:e.id,isOwnerOrCollaborator:a,isSensitive:o,onShowAbout:r,openSendBoardModal:t,privacy:e.privacy,showAboutRecommendationOption:h,showFollowOption:b,showReportOption:c,slug:p,username:l,viewParameter:_,viewType:u})}let M=(void 0!==r||(r=a(76344)).hash&&"5eb01f50884761ae6dfcf21978f9b0cd"!==r.hash&&console.error("The definition of 'BoardHeaderOverflowMenuFragment_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function k({boardRef:e,isSensitive:o,isOwnerOrCollaborator:a,onShowAbout:r,openSendBoardModal:t,username:l,hideShare:i,iconColor:s,bgColor:d,iconSize:c,showReportOption:u,viewType:_,viewParameter:h,showAboutRecommendationOption:b,showFollowOption:p,slug:m}){let{data:f}=(0,n.useFragment)(M,e);return f?(0,S.jsx)(T,{archivedByMeAt:f.archivedByMeAt,bgColor:d,boardName:f.name??"",followByMe:f.followedByMe,hideShare:i,iconColor:s,iconSize:c,id:f.entityId,isOwnerOrCollaborator:a,isSensitive:o,onShowAbout:r,openSendBoardModal:t,privacy:f.privacy??"",showAboutRecommendationOption:b,showFollowOption:p,showReportOption:u,slug:m,username:l,viewParameter:h,viewType:_}):null}function H({isSensitive:e,isOwnerOrCollaborator:o,onShowAbout:a,openSendBoardModal:r,username:i,hideShare:n,bgColor:s,iconColor:d="default",iconSize:c,showReportOption:u,viewType:_,viewParameter:h,showAboutRecommendationOption:b,showFollowOption:p,slug:m,...f}){return(0,l.useEffect)(()=>{(0,t.A)("BoardHeaderOverflowMenu","/app/www/board/duplo/BoardHeaderOverflowMenu.tsx")},[]),f.boardRef?(0,S.jsx)(k,{bgColor:s,boardRef:f.boardRef,hideShare:n,iconColor:d,iconSize:c,isOwnerOrCollaborator:o,isSensitive:e,onShowAbout:a,openSendBoardModal:r,showAboutRecommendationOption:b,showFollowOption:p,showReportOption:u,slug:m,username:i,viewParameter:h,viewType:_}):(0,S.jsx)(I,{bgColor:s,board:f.board,hideShare:n,iconColor:d,iconSize:c,isOwnerOrCollaborator:o,isSensitive:e,onShowAbout:a,openSendBoardModal:r,showAboutRecommendationOption:b,showFollowOption:p,showReportOption:u,slug:m,username:i,viewParameter:h,viewType:_})}},833033(e,o,a){a.d(o,{A:()=>_});var r=a(335831),t=a(657140),l=a(924660),i=a(836737),n=a(746743),s=a(376195),d=a(135656);let c=88,u=({toolSize:e=c,boardTool:{icon:o,link:a,text:l,tool:u}})=>{(0,t.useEffect)(()=>{(0,r.A)("BoardTool","/app/www/board/duplo/BoardTools/BoardTool.tsx")},[]);let[_,h]=(0,t.useState)(!1),{isRTL:b}=(0,s._8)(),p=(0,t.useRef)(null),m=(e=>{switch(e){case 1:return 4004;case 2:return 4005;default:return}})(u);return(0,d.jsxs)(t.Fragment,{children:[(0,d.jsx)(i.$A,{ref:p,accessibilityLabel:l,href:a,onBlur:()=>h(!1),onFocus:()=>h(!0),rounding:600,children:(0,d.jsxs)(i.az,{dangerouslySetInlineStyle:{__style:{paddingBottom:"1px"}},direction:"column",display:"flex",justifyContent:"center",children:[(0,d.jsx)(i.az,{alignItems:"center",color:_?void 0:"secondary",dangerouslySetInlineStyle:_?{__style:{backgroundColor:"#e2e2e2"}}:void 0,display:"flex",height:e,justifyContent:"center",rounding:600,width:e,children:(0,d.jsx)(i.In,{accessibilityLabel:l,color:"default",icon:"text-align-left"===o&&b?"text-align-right":o,size:24})}),(0,d.jsx)(i.az,{paddingY:1,width:e,children:(0,d.jsx)(i.KJ,{align:"center",lineClamp:2,size:"100",weight:"bold",children:l})})]})}),m&&(0,d.jsxs)(t.Fragment,{children:[(0,d.jsx)(n.xe,{anchors:{[m]:p.current},placementId:1000251,positionRelativeToAnchor:!1}),(0,d.jsx)(n.X$,{anchors:{[m]:p.current},idealDirection:"down",onAnchorTouch:"complete",placementId:1000251,scrollToDismiss:!0})]})]})};function _({boardId:e,sectionId:o,horizontalAlignment:a="center",toolSize:n,isBoardEmpty:s}){(0,t.useEffect)(()=>{(0,r.A)("BoardToolsContainer","/app/www/board/duplo/BoardTools/BoardToolsContainer.tsx")},[]);let c="";o?c=o:e&&(c=e);let _=o?`section-tools:${c}`:`board-tools:${c}`,h=((0,l.d4)(({feeds:e})=>e[_])||[]).filter(({tool:e})=>!s||2!==e);return!h||h.length<1?null:(0,d.jsx)(i.az,{"data-test-id":"board-tools-container",children:(0,d.jsx)(i.so,{alignItems:"center",justifyContent:a,width:"100%",children:(0,d.jsx)(i.so,{alignItems:"stretch",gap:2,justifyContent:"start",children:h.map(e=>(0,d.jsx)(i.az,{children:(0,d.jsx)(u,{boardTool:e,toolSize:n})},e.id))})})})}u.displayName="BoardTool"},52111(e,o,a){a.d(o,{A:()=>s});var r=a(335831),t=a(657140),l=a(836737),i=a(907208),n=a(135656);function s({boardId:e,surface:o}){return(0,t.useEffect)(()=>{(0,r.A)("FloatingAddButton","/app/www/board/duplo/FloatingAddButton.tsx")},[]),(0,n.jsx)(l.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translate(-50%)"}},marginBottom:4,position:"fixed",rounding:"circle",width:56,children:(0,n.jsx)(i.A,{bgColor:"default",boardId:e,buttonPadding:4,elementType:10643,iconButtonColor:"default",iconButtonSize:"xl",viewType:"board"===o?5:164})})}},460377(e,o,a){a.d(o,{L:()=>i,t:()=>n});var r=a(301704),t=a(310206);function l(e,o){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:o}}}function i(e,o){return a=>(a(l(e)),(0,r.A)({url:"/v3/boards/{board}/archive/",urlParams:{board:e},method:"POST",data:{...o?{orbac_subject_id:o}:{}}}))}let n=(e,o)=>a=>(0,r.A)({url:"/v3/boards/{board}/archive/",urlParams:{board:e},method:"POST"}).then(r=>(a((0,t.bG)("archived-boards",[{id:e,type:"board"}])),a(l(e,o)),r))},208190(e,o,a){a.d(o,{G:()=>n,Q:()=>i});var r=a(301704),t=a(310206);function l(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function i(e,o){return a=>(a(l(e)),(0,r.A)({url:"/v3/boards/{board}/archive/",urlParams:{board:e},method:"DELETE",data:{...o?{orbac_subject_id:o}:{}}}))}let n=(e,o)=>a=>(0,r.A)({url:"/v3/boards/{board}/archive/",urlParams:{board:e},method:"DELETE"}).then(r=>(a((0,t.bG)(`profile-boards:${o}`,[{id:e,type:"board"}])),a(l(e)),r))},806780(e,o,a){a.d(o,{A:()=>r});let r=({boardCollaboratorCount:e,collaborators:o,showOnlyOwner:a=!1,ownerName:r=""})=>{let t=e?e+1:o.length,l=t>3,i=o.find(e=>e.name===r);!i&&o.length>0&&(i=o[0]);let n=a?[i]:o.slice(0,l?2:3),s=l?t-n.length:0;return{displayedCollaborators:n,nonDisplayedCollaboratorCount:s}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/36510.zh_CN-935f9a093cda0d73.mjs.map