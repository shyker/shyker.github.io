(self.modernJsonp=self.modernJsonp||[]).push([["11292"],{296377(e,t,o){o.d(t,{A:()=>l});var r=o(528989),a=o(376195),s=o(491149);let l=({showProductDetailPage:e,skipActivation:t})=>{let{checkExperiment:o}=(0,r.A)(),l=(0,s.qJ)(),{isAuthenticated:i}=(0,a._8)();return!!i&&!!l&&(e?o("closeup_dweb_blended_ui",{dangerouslySkipActivation:t}).anyEnabled:o("closeup_dweb_blended_ui_organic",{dangerouslySkipActivation:t}).anyEnabled)}},699418(e,t,o){o.d(t,{A:()=>r});function r(e){let{full_name:t,id:o,image_medium_url:r,image_small_url:a,username:s,verified_identity:l,is_verified_merchant:i}=e;return{href:`/${s}/`,id:o||"",is_verified_merchant:i,name:t||"",src:r||a||"",verified_identity:l}}},588779(e,t,o){o.d(t,{Z:()=>c});var r=o(410899);let a=e=>e.bt("{{ first }}", "{{ first }}", "getTranslatedList.onePerson", undefined, true),s=e=>e.bt("{{ first }} 和 {{ second }}", "{{ first }} and {{ second }}", "getTranslatedList.twoPeople", undefined, true),l=e=>e.bt("{{ first }}、{{ second }} 和 {{ third }}", "{{ first }}, {{ second }} and {{ third }}", "getTranslatedList.threePeople", undefined, true),i=e=>e.bt("{{ first }}、{{ second }}、{{ third }} 和 {{ fourth }}", "{{ first }}, {{ second }}, {{ third }} and {{ fourth }}", "getTranslatedList.fourPeople", undefined, true),n=e=>e.bt("{{ first }}、{{ second }}、{{ third }}、{{ fourth }} 和 {{ fifth }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}", "getTranslatedList.fivePeople", undefined, true),d=e=>e.bt("{{ first }}、{{ second }}、{{ third }}、{{ fourth }}、{{ fifth }} 和 {{ sixth }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}", "getTranslatedList.sixPeople", undefined, true),c=(e,t,o=6)=>{let c={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-(o-1)};if(6===o)switch(e.length){case 0:return[];case 1:return(0,r.vQ)(a(t),c);case 2:return(0,r.vQ)(s(t),c);case 3:return(0,r.vQ)(l(t),c);case 4:return(0,r.vQ)(i(t),c);case 5:return(0,r.vQ)(n(t),c);case 6:return(0,r.vQ)(d(t),c);default:return(0,r.vQ)(t.bt("{{ first }}、{{ second }}、{{ third }}、{{ fourth }}、{{ fifth }} 和其他 {{ remaining }} 个", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others", "getTranslatedList.moreThan6People", undefined, true),c)}switch(e.length){case 0:return[];case 1:return(0,r.vQ)(a(t),c);case 2:return(0,r.vQ)(s(t),c);case 3:return(0,r.vQ)(l(t),c);case 4:return(0,r.vQ)(i(t),c);case 5:return(0,r.vQ)(n(t),c);case 6:return(0,r.vQ)(d(t),c);case 7:return(0,r.vQ)(t.bt("{{ first }}、{{ second }}、{{ third }}、{{ fourth }}、{{ fifth }}、{{ sixth }} 和 {{ seventh }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}", "getTranslatedList.sevenPeople", undefined, true),c);default:return(0,r.vQ)(t.bt("{{ first }}、{{ second }}、{{ third }}、{{ fourth }}、{{ fifth }}、{{ sixth }} 和其他 {{ remaining }} 个", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others", "getTranslatedList.moreThan7People", undefined, true),c)}}},79838(e,t,o){o.d(t,{A:()=>a});var r=o(806870);function a(e){let{boardId:t,username:o,slug:a}=e;return t?(0,r.A)`/v3/boards/${t}/`:o&&a?(0,r.A)`/v3/boards/${o}/${a}/`:null}},794196(e,t,o){o.r(t),o.d(t,{BoardCollabFlyout:()=>x,default:()=>w});var r=o(335831),a=o(657140),s=o(278461),l=o(836737),i=o(47998),n=o(396901),d=o(491149),c=o(110514),h=o(508765),_=o(79838),u=o(455626),b=o(927821),p=o(135656);function f({board:e,scrollInfo:t}){(0,a.useEffect)(()=>{(0,r.A)("BoardCollaboratorMemberList","/app/www/BoardCollab/BoardCollaboratorMemberList.tsx")},[]);let o=(0,n.A)(),s=(0,h.A)({name:"ApiResource",options:{url:(0,_.A)({boardId:e.id})?.concat("collaborators/"),data:{fields:["user.domain_verified","user.explicitly_followed_by_me","user.full_name","user.id","user.image_medium_url","user.image_small_url","user.is_default_image","user.location","user.twitter_url","user.type","user.username","user.verified_identity"],page_size:10}},noCache:!0});if(!s.isLoaded)return(0,p.jsx)(l.y$,{accessibilityLabel:o.bt("正在加载", "Loading", "Loading spinner when rendering users", undefined, true),show:!0});{let{owner:o}=e,{data:r,isAtEnd:l,isFetching:i,fetchMore:n}=s,d=[o,...r||[]];return(0,p.jsxs)(a.Fragment,{children:[t?(0,p.jsx)(b.A,{fetchMore:n,isAtEnd:l,isFetching:i,scrollBuffer:3*t.container.clientHeight,scrollHeight:t.container.scrollHeight,scrollTop:t.top}):null,d.map(e=>{let{full_name:t,id:o,image_medium_url:r,username:a}=e;return(0,p.jsx)(u.A,{imageUrl:r??"",linkURL:`/${a}/`,name:t??"",subtitle:a,title:t??""},o)})]})}}var m=o(425246),v=o(793695),g=o(792534);function A(e,t,o){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class x extends a.Component{constructor(...e){super(...e),A(this,"state",{contentRef:null,scrollContainer:null,scrollTop:null}),A(this,"handleBoardLeave",()=>{let{navigate:e,viewer:t}=this.props;e(t.isAuth?`/${t.username}`:"/",{replace:!0})}),A(this,"handleContentRef",e=>{let{contentRef:t}=this.state;!t&&e&&(this.setState({contentRef:e}),e.focus())}),A(this,"handleScrollContainer",e=>{let{scrollContainer:t}=this.state;!t&&e&&this.setState({scrollContainer:e})}),A(this,"handleScroll",()=>{let{scrollContainer:e}=this.state;e&&this.setState({scrollTop:e.scrollTop})})}renderInvite(e,t,o){if(!e.invited_user)return null;let r={invite:e,invitedUser:e.invited_user,onBoardLeave:t,onInviteDidUpdate:o,useGestaltModal:!0,isDim:!1};return(0,p.jsx)(c.A,{...r})}render(){let{anchor:e,board:t,onDismiss:o,viewer:r}=this.props,{scrollContainer:a,scrollTop:s}=this.state,i=r.isAuth&&r.username===t.owner.username,n=a?{container:a,top:s||0}:null,d=(t.access||[]).includes("write");return(0,p.jsx)(v.x,{viewerIsOwner:i,children:(0,p.jsx)(l.Wd,{children:(0,p.jsx)(l.az,{position:"absolute",top:!0,zIndex:g.Yo,children:(0,p.jsx)(l.AM,{anchor:e,idealDirection:"down",onDismiss:o,positionRelativeToAnchor:!1,size:this.props.isDesktop?"xl":"lg",children:(0,p.jsxs)(l.so,{alignItems:"stretch",direction:"column",justifyContent:"start",maxHeight:500,minWidth:320,width:"100%",children:[(0,p.jsx)(l.ib,{top:0,children:(0,p.jsx)(l.az,{alignItems:"center",display:"flex",height:64,justifyContent:"center",paddingX:4,paddingY:4,position:"relative",children:(0,p.jsx)("div",{ref:this.handleContentRef,tabIndex:0,children:(0,p.jsx)(l.KJ,{size:"300",weight:"bold",children:this.props.i18n.bt("群组成员", "Group members", "boardCollabFlyout.header", undefined, true)})})})}),(0,p.jsx)(l.az,{overflow:"scrollY",children:(0,p.jsx)(l.az,{ref:this.handleScrollContainer,onScroll:this.handleScroll,children:d?(0,p.jsx)(m.A,{board:t,onBoardLeave:this.handleBoardLeave,renderInvite:this.renderInvite,scrollInfo:n}):(0,p.jsx)(f,{board:t,scrollInfo:n})})})]})})})})})}componentDidMount(){(0,r.A)("BoardCollabFlyout","/app/www/BoardCollab/BoardCollabFlyout.tsx")}}function w(e){(0,a.useEffect)(()=>{(0,r.A)("BoardCollabFlyout","/app/www/BoardCollab/BoardCollabFlyout.tsx")},[]);let t=(0,n.A)(),o=(0,i.A)(),l=(0,s.Zp)(),c=(0,d.qJ)();return(0,p.jsx)(x,{...e,i18n:t,isDesktop:c,navigate:l,viewer:o})}},110514(e,t,o){o.d(t,{A:()=>S});var r=o(335831),a=o(657140),s=o(924660),l=o(836737),i=o(388364),n=o(47998),d=o(396901),c=o(906494),h=o(32712),_=o(894621),u=o(528989),b=o(86337),p=o(389598),f=o(410899),m=o(376195),v=o(135656);function g({boardName:e,collaboratorName:t,onCancelTransferRequest:o,onDismiss:s}){(0,a.useEffect)(()=>{(0,r.A)("BoardCollabOwnershipTransferModal","/app/www/BoardCollab/BoardCollabOwnershipTransferModal.tsx")},[]);let i=(0,d.A)(),n=(0,m._8)();return(0,v.jsx)(p.Ay,{accessibilityModalLabel:i.bt("图板所有权转让模式", "Board ownership transfer modal", "boardCollabOwnershipTransferModal.accessibilityModalLabel", undefined, true),footer:(0,v.jsxs)(l.so,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,v.jsx)(l.Rp,{fullWidth:!1,onTap:o,children:(0,v.jsx)(l.KJ,{weight:"bold",children:i.bt("取消申请", "Cancel request", "boardCollabOwnershipTransferModal.cancelRequest", undefined, true)})}),(0,v.jsx)(l.$n,{color:"primary",onClick:s,size:"lg",text:i.bt("了解了", "Got it", "boardCollabOwnershipTransferModal.confirmationButton", undefined, true)})]}),heading:(0,v.jsxs)(l.az,{paddingY:8,position:"relative",children:[(0,v.jsx)(l._Y,{align:"center",size:"600",children:i.bt("合作用户", "Collaborators", "boardCollabOwnershipTransferModal.heading", undefined, true)}),(0,v.jsx)(l.az,{left:n.isRTL,paddingX:6,paddingY:8,position:"absolute",right:!n.isRTL,top:!0,children:(0,v.jsx)(l.K0,{accessibilityLabel:i.bt("关闭", "Close", "boardCollabOwnershipTransferModal.iconAccessibilityLabel", undefined, true),icon:"close",iconColor:"default",onClick:s,size:"md"})})]}),onDismiss:s,children:(0,v.jsx)(l.az,{paddingX:8,children:(0,v.jsx)(l.KJ,{align:"center",children:(0,f.vQ)(i.bt("我们已向 {{ collaboratorName }} 发送你希望其拥有 {{ boardName }} 的请求。当他们接受时，你仍然可以添加 Pin 图，但是你无法管理合作用户、更改名称、封面照片或此图板的描述。", "We sent {{ collaboratorName }} your request for them to own {{ boardName }}. When they accept, you can still add Pins—but you won’t be able to manage collaborators, change the name, cover photo, or description of this board.", "boardCollabOwnershipTransferModal.descriptionText", undefined, true),{collaboratorName:t,boardName:(0,v.jsx)(l.KJ,{inline:!0,weight:"bold",children:e})})})})})}var A=o(793695),x=o(472262);function w({boardId:e,collaboratorId:t,collaboratorName:o,isAcceptedCollaborator:i,onDelete:n}){(0,a.useEffect)(()=>{(0,r.A)("BoardCollabInviteOverflowButton","/app/www/BoardCollab/BoardCollabInviteOverflowButton.tsx")},[]);let c=(0,s.wA)(),h=(0,d.A)(),_=(0,a.useRef)(null),[u,b]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!1),{boardName:m,pendingOwnershipTransfer:w}=(0,A.A)(),j=()=>{c((0,x.Im)(e,t)),b(!1)},z=async()=>{b(!1),await c((0,x.ik)(e,t)),f(!0)},y=function({i18n:e,isAcceptedCollaborator:t,onCancelTransferRequest:o,onDelete:r,onRequestTransfer:a,showCancelRequestOption:s,showRequestTransferOption:l}){let i=[{onSelect:r,option:{value:"Remove from board",label:e.bt("从图板中移除", "Remove from board", "getCollaboratorDropdownItems.removeText", undefined, true)}}];return t&&(s&&i.push({onSelect:o,option:{value:"Cancel request",label:e.bt("取消申请", "Cancel request", "getCollaboratorDropdownItems.cancelText", undefined, true)}}),l&&i.push({onSelect:a,option:{value:"Request as board owner",label:e.bt("申请成为图板所有者", "Request as board owner", "getCollaboratorDropdownItems.requestText", undefined, true)}})),i}({i18n:h,isAcceptedCollaborator:i,onCancelTransferRequest:j,onDelete:n,onRequestTransfer:()=>{z()},showCancelRequestOption:w===t,showRequestTransferOption:!w});return(0,v.jsxs)(a.Fragment,{children:[(0,v.jsxs)(l.so,{justifyContent:"center",children:[(0,v.jsx)(l.K0,{ref:_,accessibilityLabel:h.bt("合作用户选项", "Collaborator options", "boardCollabInviteOverflowButton.accessibilityLabel", undefined, true),bgColor:"transparent",icon:"ellipsis",iconColor:"default",onClick:()=>b(!u),selected:u,size:"md"}),u&&(0,v.jsx)(l.ms,{anchor:_.current,disableMobileUI:!0,id:"board-collaborator-dropdown",idealDirection:"down",onDismiss:()=>b(!1),zIndex:new l.rk(1e3),children:(0,v.jsx)(l.ms.Section,{label:h.bt("选项", "Options", "boardCollabInviteOverflowButton.dropdownSection", undefined, true),children:y.map(e=>(0,v.jsx)(l.ms.Item,{onSelect:e.onSelect,option:e.option},e.option.value))})})]}),p&&(0,v.jsx)(g,{boardName:m,collaboratorName:o,onCancelTransferRequest:()=>{j(),f(!1)},onDismiss:()=>{f(!1)}})]})}var j=o(455626);function z({accessibilityHeadingLevel:e,actionsDisabled:t,invite:o,invitedUser:s,isDim:i,onApprove:c,onDelete:h}){let _,p;(0,a.useEffect)(()=>{(0,r.A)("BoardCollabInviteCell","/app/www/BoardCollab/BoardCollabInviteCell.tsx")},[]);let f=(0,d.A)(),m=(0,n.A)(),{access:g,board:x,status:z,invited_by_user:y}=o,{pendingOwnershipTransfer:P,viewerIsOwner:C}=(0,A.A)(),B=m.isAuth&&s.id===m.id,I=m.isAuth&&y.id===m.id,T=s.id===y.id,S="accepted"===z,L=g.includes("approve"),H=g.includes("delete"),D=f.bt("通过", "Approve", "[button] approve another pinner's request to join the board as a collaborator", undefined, true),k=B?f.bt("离开", "Leave", "[button] for a collaborator to leave a group board", undefined, true):T&&!S?f.bt("拒绝", "Decline", "[button] decline another pinner's request to join board as a collaborator", undefined, true):f.bt("移除", "Remove", "[button] remove a collaborator from the board]", undefined, true),M=H&&!L,E=H&&L,q=`/${s.username}/`,{checkExperiment:R}=(0,u.A)(),F=C&&R("web_board_ownership_transfer").anyEnabled,J=F?(0,v.jsx)(w,{boardId:x.id,collaboratorId:s.id,collaboratorName:s.full_name,isAcceptedCollaborator:S,onDelete:h||(()=>{})}):(0,v.jsx)(l.$n,{disabled:t,onClick:h,size:"lg",text:k}),N=P===s.id,O=F&&(void 0!==i?i:!S);return(0,v.jsxs)(l.az,{children:[(0,v.jsx)(j.A,{accessibilityHeadingLevel:e,accessory:M&&J,imageUrl:s.image_medium_url||"",isDim:!F&&(void 0!==i?i:!S),linkURL:q,name:s.full_name,subtitle:(p=o.invited_by_user.full_name,_=O?f.bt("邀请等待处理", "Invitation pending", "boardCollabInviteCell.pendingInvitationText", undefined, true):B?f.bt("那就是你", "That's you", "subtext for current user who requested to join this board", undefined, true):I?f.bt("受你邀请", "Invited by you", "subtext for a pending collaborator who was invited by the current viewer", undefined, true):T?f.bt("已申请加入", "Requested to join", "The subtext that identifies a pending collaborator has personally requested to join the board", undefined, true):(0,b.A)(f.bt("受 {{ user_full_name }} 邀请", "Invited by {{ user_full_name }}", "The subtext that identifies a pending collaborator who was invited to collaborate on the board", undefined, true),{user_full_name:p}),N&&(_=_.concat(f.bt(" · 所有权等待处理", " · Ownership pending", "boardCollabInviteCell.pendingOwnershipText", undefined, true))),_),title:s.full_name}),E&&(0,v.jsxs)(l.az,{display:"flex",justifyContent:"end",marginStart:12,paddingX:3,children:[(0,v.jsx)(l.az,{flex:"grow",paddingX:1,width:"50%",children:(0,v.jsx)(l.$n,{disabled:t,fullWidth:!0,onClick:h,size:"lg",text:k})}),(0,v.jsx)(l.az,{flex:"grow",paddingX:1,width:"50%",children:(0,v.jsx)(l.$n,{color:"primary",disabled:t,fullWidth:!0,onClick:c,size:"lg",text:D})})]})]})}function y(e){(0,a.useEffect)(()=>{(0,r.A)("CollaboratorButtonForm","/app/www/boardEdit/BoardInvites/CollaboratorButtonForm.tsx")},[]);let t=(0,d.A)(),{onCancel:o,onRemove:s,useGestaltModal:i}=e,n=t.bt("确定离开此图板并将其从你的个人资料中移除？", "Are you sure you want to leave this group board and remove it from your profile?", " - ", undefined, true),c=i?l.aF:p.Ay;return(0,v.jsx)(c,{accessibilityModalLabel:t.bt("离开图板？", "Leave board?", " - ", undefined, true),footer:(0,v.jsxs)(l.so,{alignItems:"stretch",justifyContent:"end",children:[(0,v.jsx)(l.az,{paddingX:1,children:(0,v.jsx)(l.$n,{onClick:o,text:t.bt("取消", "Cancel", " - ", undefined, true)})}),(0,v.jsx)(l.az,{paddingX:1,children:(0,v.jsx)(l.$n,{color:"primary",onClick:s,text:t.bt("离开", "Leave", " - ", undefined, true)})})]}),heading:t.bt("离开图板？", "Leave board?", " - ", undefined, true),onDismiss:o,size:"sm",children:(0,v.jsx)(l.az,{padding:5,children:(0,v.jsx)(l.KJ,{children:n})})})}class P extends a.Component{constructor(...e){var t,o,r;super(...e),o={shouldBlock:!1},(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?r:r+"")in this?Object.defineProperty(this,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[t]=o}getBlockDescription(e,t){if("declineRequest"===e)if(t)return(0,f.vQ)(this.props.i18n.bt("此操作会禁止 {{ invited_user_first_name }} 加入此图板并且屏蔽其接下来发送的合作请求。", "This will decline {{ invited_user_first_name }} from joining this board and block them from subsequent collaboration requests.", "decline another pinner's request to join board as a collaborator and block them", undefined, true),{invited_user_first_name:t});else return this.props.i18n.bt("此操作会禁止此用户加入此图板并且屏蔽其接下来发送的合作请求。", "This will decline this person from joining this board and block them from subsequent collaboration requests.", "message that explains consequences of declining a request to join board as a collaborator", undefined, true);return t?(0,f.vQ)(this.props.i18n.bt("这将移除 {{ invited_user_first_name }}，{{ invited_user_first_name }} 邀请的人和他们的所有 Pin 图。", "This will remove {{ invited_user_first_name }}, people {{ invited_user_first_name }} invited, and all their Pins.", " - ", undefined, true),{invited_user_first_name:t}):this.props.i18n.bt("此操作将移除此用户、其邀请的人及其所有 Pin 图。", "This will remove this person, people they invited, and all their Pins.", "message that explains consequences of removing a collaborator", undefined, true)}render(){let{removeType:e,firstName:t,fullName:o,onCancel:r,onRemove:s,onRemoveAndBlock:i,useGestaltModal:n}=this.props,d="declineRequest"===e?(0,f.vQ)(this.props.i18n.bt("拒绝 {{ invited_user_name }}？", "Decline {{ invited_user_name }}?", "[button] to decline a pinner's request to join a board as a collaborator", undefined, true),{invited_user_name:o}).join(""):(0,f.vQ)(this.props.i18n.bt("移除 {{ invited_user_name }} ？", "Remove {{ invited_user_name }}?", "[button] to remove a pinner as a collaborator from a group board", undefined, true),{invited_user_name:o}).join(""),c=this.props.i18n.bt("此操作将会使他们无法收藏 Pin 图至此图板。你还可以：", "This will keep them from saving Pins to this board. You can also:", "decline another pinner's request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user.", undefined, true),h=this.getBlockDescription(e,t),_=this.state.shouldBlock?this.props.i18n.bt("屏蔽", "Block", "block another pinner after denying their request to collaborate on a board", undefined, true):this.props.i18n.bt("移除", "Remove", "decline another pinner's request to collaborate on a board", undefined, true),u=(0,v.jsxs)(a.Fragment,{children:[(0,v.jsx)(l.az,{padding:5,children:(0,v.jsx)(l.KJ,{children:c})}),(0,v.jsx)(l.cG,{}),(0,v.jsxs)(l.az,{display:"flex",padding:5,children:[(0,v.jsx)(l.az,{paddingX:1,children:(0,v.jsx)(l.Sc,{checked:this.state.shouldBlock,id:"banUser",name:"ban",onChange:()=>this.setState(({shouldBlock:e})=>({shouldBlock:!e}))})}),(0,v.jsx)(l.az,{paddingX:1,children:(0,v.jsxs)(l.JU,{htmlFor:"banUser",children:[(0,v.jsx)(l.KJ,{weight:"bold",children:(0,f.vQ)(this.props.i18n.bt("屏蔽 {{ name }}", "Block {{ name }}", " - ", undefined, true),{name:t||""})}),(0,v.jsx)(l.KJ,{size:"200",children:h})]})})]})]}),b=n?l.aF:p.Ay;return(0,v.jsx)(b,{accessibilityModalLabel:d,footer:(0,v.jsxs)(l.az,{display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,v.jsx)(l.az,{paddingX:1,children:(0,v.jsx)(l.$n,{onClick:r,text:this.props.i18n.bt("取消", "Cancel", " - ", undefined, true)})}),(0,v.jsx)(l.az,{paddingX:1,children:(0,v.jsx)(l.$n,{color:"primary",onClick:this.state.shouldBlock?i:s,text:_})})]}),heading:d,onDismiss:r,size:"sm",children:u})}}function C(e){(0,a.useEffect)(()=>{(0,r.A)("CollaboratorButtonForm","/app/www/boardEdit/BoardInvites/CollaboratorButtonForm.tsx")},[]);let t=(0,d.A)();return(0,v.jsx)(P,{...e,i18n:t})}var B=o(169250);function I(e,t,o){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class T extends a.Component{constructor(...e){super(...e),I(this,"state",{currentModal:null,loading:!1}),I(this,"showRemoveSuccessToast",()=>{let{toastManagerContext:e}=this.props,t=this.props.i18n.bt("合作用户已移除", "Collaborator removed", "BoardCollabInviteCellContainer.toast", undefined, true);e.showOneToast(({hideToast:e})=>(0,v.jsx)(i.A,{duration:3e3,onHide:e,text:t}))}),I(this,"onDelete",()=>{let{onModalOpen:e}=this.props;e&&e(),this.setState({currentModal:"delete"})}),I(this,"onApprove",()=>{let{approveBoardCollabInvite:e,onInviteDidUpdate:t}=this.props;this.setState({loading:!0}),e().then(t).finally(()=>{this.setState({loading:!1})})}),I(this,"deleteBoardInvite",(e=!1)=>{let{deleteBoardCollabInvite:t,onBoardLeave:o,onInviteDidUpdate:r}=this.props,{isViewerInvitedUser:a}=this;this.setState({currentModal:null,loading:!0}),t(a,e).then(()=>{r(),this.showRemoveSuccessToast(),a&&o()}).catch(()=>{}).finally(()=>{this.setState({loading:!1})})}),I(this,"handleDeleteBoardInvite",()=>{this.deleteBoardInvite(!1)}),I(this,"handleDeleteBoardInviteAndBan",()=>{this.deleteBoardInvite(!0)}),I(this,"handleHideModal",()=>{this.setState({currentModal:null})})}get isViewerInvitedUser(){let{viewer:e,invitedUser:t}=this.props;return e.isAuth&&e.id===t.id}get isRequestToJoin(){let{invitedUser:e,invite:{invited_by_user:t}}=this.props;return e.id===t.id}renderCurrentModal(){let{invitedUser:e,useGestaltModal:t=!1}=this.props,{currentModal:o}=this.state;if("delete"===o)if(this.isViewerInvitedUser)return(0,v.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{zIndex:B.d1+1}},position:"absolute",children:(0,v.jsx)(y,{onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,useGestaltModal:t})});else return(0,v.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{zIndex:B.d1+1}},position:"absolute",children:(0,v.jsx)(C,{firstName:e.first_name,fullName:e.full_name,onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,onRemoveAndBlock:this.handleDeleteBoardInviteAndBan,removeType:this.isRequestToJoin?"declineRequest":"removeCollaborator",useGestaltModal:t})});return null}render(){let{accessibilityHeadingLevel:e,invite:t,invitedUser:o,isDim:r}=this.props,{loading:a}=this.state;return(0,v.jsxs)(l.az,{children:[(0,v.jsx)(z,{accessibilityHeadingLevel:e,actionsDisabled:a,invite:t,invitedUser:o,isDim:r&&"accepted"!==t.status,onApprove:this.onApprove,onDelete:this.onDelete}),this.renderCurrentModal()]})}}function S(e){(0,a.useEffect)(()=>{(0,r.A)("BoardCollabInviteCellContainer","/app/www/BoardCollab/BoardCollabInviteCellContainer.tsx")},[]);let{invite:t,invitedUser:{id:o},invite:{board:{id:l}}}=e,i=(0,d.A)(),u=(0,n.A)(),b=(0,s.wA)(),p=(0,h.A)(),f=(0,_.H7)(u,p),m=(0,x.XK)(),g=async()=>{await m(l,o)},A=(0,x.tR)();return(0,v.jsx)(T,{...e,approveBoardCollabInvite:g,deleteBoardCollabInvite:(e,o)=>b(A(t,e,o)),i18n:i,orbacSubjectId:f,toastManagerContext:(0,c.CG)(),viewer:(0,n.A)()})}},425246(e,t,o){o.d(t,{A:()=>v});var r=o(335831),a=o(657140),s=o(836737),l=o(396901),i=o(410899),n=o(508765),d=o(204071),c=o(110514),h=o(455626),_=o(793695),u=o(927821),b=o(135656);function p({fetchMore:e,invites:t,isAtEnd:o,isFetching:l,onBoardLeave:i,refreshData:n,renderInvite:d,scroll:c}){return(0,a.useEffect)(()=>{(0,r.A)("BoardInvites","/app/www/boardEdit/BoardInvites/BoardInvites.tsx")},[]),(0,b.jsxs)(s.az,{children:[c&&(0,b.jsx)(u.A,{fetchMore:e,isAtEnd:o,isFetching:l,scrollBuffer:3*c.container.clientHeight,scrollHeight:c.container.scrollHeight,scrollTop:c.top}),t.map((e,t)=>e&&e.invited_user&&e.invited_user.id?(0,b.jsx)(s.az,{children:d(e,i,n)},t):null)]})}var f=o(64395);class m extends a.Component{constructor(...e){var t,o,r;super(...e),t="handleInvitesDidUpdate",o=()=>{let{invitesPendingApproval:e,invites:t}=this.props;e.refresh(),t.refresh()},(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in this?Object.defineProperty(this,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[t]=o}render(){let{accessibilityCollaboratorHeadingLevel:e,board:t,invites:o,invitesPendingApproval:r,scrollInfo:l,onBoardLeave:n,onModalOpen:d,pendingOwnershipTransfer:_,renderInvite:u}=this.props,{full_name:m,image_medium_url:v,username:g}=t.owner,A=(o.data||[]).find(e=>e.invited_user?.id===_)?.invited_user?.full_name,x=_&&A?(0,i.vQ)(this.props.i18n.bt("已请求 {{ collaboratorName }} 成为图板所有者", "Requested {{ collaboratorName }} to change to board owner", "boardInviteSheet.CollaboratorList.boardOwner.ownershipRequestSubtitle", undefined, true),{collaboratorName:A}).join(""):this.props.i18n.bt("此图版的所有者", "Owner of this board", "boardInviteSheet.CollaboratorList.boardOwner.subtitle", undefined, true);return(0,b.jsx)(a.Fragment,{children:o.isLoaded||r.isLoaded?(0,b.jsx)(f.A,{fetchMore:o.fetchMore,children:({onScroll:t,setRef:a})=>(0,b.jsxs)(s.az,{ref:a,maxHeight:"50vh",onScroll:t,overflow:"auto",width:"100%",children:[(0,b.jsx)(p,{fetchMore:r.fetchMore,invites:r.data||[],isAtEnd:r.isAtEnd,isFetching:r.isFetching,onBoardLeave:n,refreshData:this.handleInvitesDidUpdate,renderInvite:u,scroll:l}),(r.data||[]).length>0?(0,b.jsx)(s.az,{paddingY:3,children:(0,b.jsx)(s.cG,{})}):null,(0,b.jsxs)(s.az,{paddingY:1,children:[(0,b.jsx)(h.A,{accessibilityHeadingLevel:e,imageUrl:v??"",linkURL:`/${g}/`,name:m??"",subtitle:x,title:m??""}),(o.data||[]).map(t=>t&&t.invited_user&&t.invited_user.id?(0,b.jsx)(c.A,{accessibilityHeadingLevel:e,invite:t,invitedUser:t.invited_user,onBoardLeave:n,onInviteDidUpdate:this.handleInvitesDidUpdate,onModalOpen:d},t.invited_user.id):null)]})]})}):(0,b.jsx)(s.y$,{accessibilityLabel:this.props.i18n.bt("正在加载", "Loading", "Loading state for showing board collaborators", undefined, true),show:!0})})}}function v(e){(0,a.useEffect)(()=>{(0,r.A)("BoardInvitesAndCollaboratorList","/app/www/BoardCollab/BoardInvitesAndCollaboratorList.tsx")},[]);let t=(0,l.A)(),{pendingOwnershipTransfer:o}=(0,_.A)(),s=(0,d.A)(),i=(0,n.A)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,allow_stale:!1,...s?{orbac_subject_id:s}:{}}}),c=(0,n.A)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"pending_approval",allow_stale:!1,...s?{orbac_subject_id:s}:{}}});return(0,b.jsx)(m,{...e,i18n:t,invites:i,invitesPendingApproval:c,pendingOwnershipTransfer:o})}},455626(e,t,o){o.d(t,{A:()=>h});var r=o(335831),a=o(657140),s=o(836737),l=o(923957),i=o(47998),n=o(396901),d=o(428743),c=o(135656);function h(e){(0,a.useEffect)(()=>{(0,r.A)("ContactCell","/app/www/BoardCollab/ContactCell.tsx")},[]);let{accessibilityHeadingLevel:t=2,imageUrl:o,name:h,title:_,subtitle:u,accessory:b,linkURL:p,isDim:f}=e,m=(0,n.A)(),v=(0,i.A)(),g=v.isAuth?v?.avatar_color_index:void 0,A={__style:{opacity:f?.5:1}},x=(0,d.A)({url:p??""})?"nofollow":"none";return(0,c.jsx)(a.Fragment,{children:h&&_&&(0,c.jsxs)(s.az,{alignItems:"center","aria-label":m.bt("合作用户", "Collaborator", "BoardCollabInviteCell.div.ariaLabel", undefined, true),display:"flex",marginBottom:4,paddingX:4,role:"group",children:[(0,c.jsx)(s.az,{dangerouslySetInlineStyle:A,marginEnd:2,children:(0,c.jsx)(s.$A,{href:p||"",rel:x,rounding:"circle",children:(0,c.jsx)(l.eu,{color:g,name:h,outline:!0,size:"md",src:o})})}),(0,c.jsxs)(s.az,{alignItems:"stretch",dangerouslySetInlineStyle:A,direction:"column",display:"flex",flex:"grow",children:[(0,c.jsx)(s._Y,{accessibilityLevel:t,lineClamp:1,size:"300",children:(0,c.jsx)(s.N_,{href:p||"",rel:x,children:_})}),(0,c.jsx)(s.KJ,{color:"subtle",lineClamp:1,size:"100",children:u})]}),b&&(0,c.jsx)(s.az,{marginStart:4,children:b})]})})}},793695(e,t,o){o.d(t,{A:()=>d,x:()=>n});var r=o(657140),a=o(767216),s=o(135656);let{Provider:l,get:i}=(0,a.A)("BoardOwnershipTransferContext");function n({boardName:e="",children:t,pendingOwnershipTransfer:o=null,viewerIsOwner:a}){let i=(0,r.useMemo)(()=>({boardName:e,pendingOwnershipTransfer:o,viewerIsOwner:a}),[e,o,a]);return(0,s.jsx)(l,{value:i,children:t})}let d=i},228265(e,t,o){o.d(t,{aK:()=>s,lm:()=>i,vt:()=>l});var r=o(836737),a=o(169250);let s=new r.rk(5),l=a.Bf,i=68},64395(e,t,o){o.d(t,{A:()=>l});var r=o(657140),a=o(835122);function s(e,t,o){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class l extends r.PureComponent{constructor(...e){super(...e),s(this,"setContainerRef",e=>{this.containerRef=e}),s(this,"fetchMoreIfNecessary",(0,a.A)(()=>{let{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&(({scrollTop:e,clientHeight:t,scrollHeight:o},r)=>e+t+(r?r(t):2*t)>o)(this.containerRef,t)&&e()},200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){let{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},727365(e,t,o){o.d(t,{A:()=>n});var r=o(657140),a=o(836737),s=o(296377),l=o(48245),i=o(135656);let n=function({badgeSize:e,badgeSpacing:t,fullName:o,isVerifiedIdentity:n,isVerifiedMerchant:d,truncate:c=!1,size:h="200"}){let _=(0,s.A)({showProductDetailPage:!1}),u=o.split(" "),b=u.slice(0,u.length-1).join(" "),p=" ".concat(u[u.length-1]);return c?(0,i.jsxs)(a.so,{alignItems:"stretch",justifyContent:"start",children:[(0,i.jsx)(a.KJ,{lineClamp:1,size:h,weight:"bold",children:o}),(0,i.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{top:t}},flex:"none",paddingX:1,position:"relative",children:(0,i.jsx)(l.A,{isVerifiedIdentity:n,isVerifiedMerchant:d,size:e})})]}):(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)("span",{children:b}),(0,i.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[p," ",(0,i.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{top:t}},display:"inlineBlock",flex:"none",paddingX:+!!_,position:"relative",children:(0,i.jsx)(l.A,{isVerifiedIdentity:n,isVerifiedMerchant:d,size:e})})]})]})}},548588(e,t,o){o.d(t,{A:()=>h,V:()=>c});var r=o(335831),a=o(657140),s=o(795561),l=o(538346),i=o(491149),n=o(636471),d=o(135656);let c="boardFeedAlignmentWrapper",h=({children:e,isGetServerRenderGridHeaderStyles:t,maxColumns:o,style:h})=>{(0,a.useEffect)(()=>{(0,r.A)("BoardFeedAlignmentWrapper","/app/www/board/duplo/BoardFeedAlignmentWrapper.tsx")},[]);let _=(0,i.Ay)(),{experimentalColumnWidth:u,experimentalGutter:b}=(0,s.A)(null==o),p=(0,n.yC)({trafficSource:"board",deviceType:_,experimentalGutter:b})||0,f=(0,n.qG)({deviceType:_,experimentalColumnWidth:u?236:void 0}),m=t&&(0,n.lj)({gutterWidth:p,itemWidth:f,className:c,maxColumns:o});return(0,d.jsxs)(a.Fragment,{children:[!!m&&(0,d.jsx)(l.A,{unsafeCSS:m}),(0,d.jsx)("div",{className:c,style:h?{...h}:{margin:"auto"},children:e})]})}},969168(e,t,o){o.d(t,{A:()=>h});var r=o(335831),a=o(657140),s=o(836737),l=o(625277),i=o(396901),n=o(410899),d=o(388657),c=o(135656);function h({description:e,isSeoBot:t,topicName:o}){(0,a.useEffect)(()=>{(0,r.A)("BoardHeaderTwoLinesDescription","/app/www/board/duplo/BoardHeaderTwoLinesDescription.tsx")},[]);let h=(0,i.A)(),[_,u]=(0,a.useState)(!t),[b,p]=(0,a.useState)(!1),f=(0,a.useRef)(null),{isDarkMode:m}=(0,l.D2)(),v=(0,d.V)(e),g=m?"#111111":"#FFFFFF";return((0,a.useEffect)(()=>{if(f.current){let e;p((e=f.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)}},[]),e)?(0,c.jsx)(s.az,{"data-test-id":"board-description-container",flex:"grow",position:"relative",children:(0,c.jsxs)("div",{dir:v,children:[(0,c.jsxs)(s.KJ,{ref:f,align:"ltr"===v?"forceLeft":void 0,lineClamp:2*!!_,size:"300",title:_?e:void 0,children:[o&&(0,c.jsxs)(s.KJ,{inline:!0,title:o,weight:"bold",children:[(0,n.vQ)(h.bt("{{ topicName }}。", "{{ topicName }}.", "boardPage.header.description.topicName", undefined, true),{topicName:o})," "]}),e,!_&&(0,c.jsx)(s.az,{display:"inlineBlock",children:(0,c.jsx)(s.Rp,{fullWidth:!1,onTap:()=>u(!0),children:(0,c.jsx)(s.KJ,{inline:!0,weight:"bold",children:h.bt("……更少", "... less", "boardPage.header.description.truncateDescription", undefined, true)})})})]}),_&&b&&(0,c.jsx)(s.az,{as:"div",bottom:!0,color:m?"washDark":"washLight",dangerouslySetInlineStyle:{__style:{background:`linear-gradient(270deg, ${g} 50%, ${g}00 100%)`,textAlign:"end"}},"data-test-id":"more-board-description",display:"flex",justifyContent:"end",paddingX:1,position:"absolute",right:!0,width:140,children:(0,c.jsx)(s.Rp,{fullWidth:!1,onTap:()=>u(!1),children:(0,c.jsx)(s.KJ,{inline:!0,weight:"bold",children:h.bt("……展开", "... more", "boardPage.header.description.expandDescription", undefined, true)})})})]})}):null}},927821(e,t,o){o.d(t,{A:()=>a});var r=o(657140);class a extends r.PureComponent{constructor(...e){var t,o,r;super(...e),t="check",o=()=>{let{isAtEnd:e,isFetching:t,fetchMore:o,scrollBuffer:r,scrollHeight:a,scrollTop:s}=this.props;e||t||s+r>a&&o()},(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in this?Object.defineProperty(this,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[t]=o}componentDidMount(){setTimeout(this.check)}componentDidUpdate(){this.check()}render(){return null}}},432675(e,t,o){o.d(t,{A:()=>d});var r=o(335831),a=o(657140),s=o(836737),l=o(923957),i=o(376195),n=o(135656);function d(e){(0,a.useEffect)(()=>{(0,r.A)("BoardAvatarGroup","/app/www/save/board/BoardCollaboratorFacepile/BoardAvatarGroup.tsx")},[]);let{addButtonRef:t,collaboratorCount:o,nonDisplayedCollaboratorCount:d,displayedCollaborators:c,onClick:h,showAddButton:_,avatarSize:u="md",ref:b}=e,{isRTL:p}=(0,i._8)(),f=c.length>1?[...c,...d?Array(d).fill({name:""}):[]]:c,m=(c.length>1||0===o)&&_;return(0,n.jsxs)(s.az,{"data-test-id":"user-rep-avatar",position:"relative",rounding:"pill",children:[m?(0,n.jsx)(s.az,{ref:t,height:48,left:p,position:"absolute",right:!p,rounding:"circle",top:!0,width:48}):null,(0,n.jsx)(s.az,{height:"fit"===u?16:void 0,width:"fit"===u?16:void 0,children:(0,n.jsx)(l.Z7,{ref:b,addCollaborators:m,collaborators:f,onClick:h,role:"button",size:u})})]})}},223559(e,t,o){o.d(t,{A:()=>m});var r=o(335831),a=o(657140),s=o(278461),l=o(836737),i=o(129625),n=o(731634),d=o(746743),c=o(47998),h=o(220527),_=o(32712),u=o(894621),b=o(432675),p=o(135656);let f=(0,a.lazy)(()=>Promise.resolve().then(o.bind(o,794196)));function m({avatarSize:e,board:t,displayedCollaborators:o,handleShowCollabAndPermissionsModal:m=()=>{},hideFlyout:v=!1,isBoardPreviewMode:g,nonDisplayedCollaboratorCount:A=0,showPersonAddIconForInvite:x}){let w;(0,a.useEffect)(()=>{(0,r.A)("CollaboratorAvatarGroup","/app/www/save/board/BoardCollaboratorFacepile/CollaboratorAvatarGroup.tsx")},[]);let[j,z]=(0,a.useState)(!1),y=(0,c.A)(),P=(0,a.useRef)(null),C=(0,a.useRef)(void 0),B=(0,s.Zp)(),I=(0,_.A)(),{logContextEvent:T}=(0,i.o)(),S=(0,u.D9)(y,t,I),L=S&&!g,H=(L||t.collaborator_invites_enabled&&t.collaborated_by_me)&&!x,D=(w=()=>B(o[0].href??"/"),o[0].is_ads_only_profile&&o[0].ads_only_profile_site&&(w=()=>{T({event_type:9371,element:13382,aux_data:{aop_origin:"CollaboratorAvatarGroup"}}),window.open(o[0].ads_only_profile_site,"_blank")}),!v&&o.length>1&&(w=()=>z(!j)),L&&(S||t.collaborated_by_me)&&(w=m),w),k=[501003];L&&t.is_collaborative&&k.push(502335);let M=o.map(({name:e,src:t})=>e&&t?{name:e,src:t.endsWith("/default_75.png")?"":t}:{name:e,src:t});return(0,p.jsxs)(a.Fragment,{children:[(0,p.jsxs)(l.so,{alignItems:"center",justifyContent:"start",children:[(0,p.jsx)(b.A,{ref:P,addButtonRef:C,avatarSize:e,collaboratorCount:t.collaborator_count||0,displayedCollaborators:M,nonDisplayedCollaboratorCount:A,onClick:D,showAddButton:H??!1}),(0,p.jsx)(d.xe,{anchors:{3002:C.current},placementId:18,positionRelativeToAnchor:!1}),(0,p.jsx)(d.En,{anchor:C.current,customWrapper:({children:e})=>(0,p.jsx)(l.az,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,zIndex:new l.rk(2),children:e}),experienceIds:k,idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})]}),j&&(0,p.jsx)(n.A,{name:"SafeSuspense_CollaboratorAvatarGroup_BoardCollabFlyout",children:(0,p.jsx)(h.A,{children:(0,p.jsx)(f,{anchor:P.current,board:t,onDismiss:()=>{z(!1),P.current&&P.current.focus()}})})})]})}},130331(e,t,o){o.d(t,{A:()=>h});var r=o(335831),a=o(657140),s=o(836737),l=o(396901),i=o(491149),n=o(223559),d=o(997100),c=o(135656);function h(e){(0,a.useEffect)(()=>{(0,r.A)("BoardHeaderDetailsSponsor","/app/www/save/board/Headers/BoardHeader/BoardHeaderDetails/BoardHeaderDetailsSponsor.tsx")},[]);let t=(0,l.A)(),o=(0,i.qJ)(),{board:h,collaborator:_,sponsor:u}=e,[b,p]=(0,a.useState)([u,_].filter(Boolean));return((0,a.useEffect)(()=>{p([u,_].filter(Boolean))},[u,_]),0===b.length)?null:(0,c.jsxs)(s.so,{alignItems:"center",dataTestId:"sponsor-avatar-and-name",gap:2,children:[(0,c.jsx)(n.A,{avatarSize:"sm",board:h,displayedCollaborators:b,hideFlyout:!0}),(0,c.jsxs)(s.az,{children:[(0,c.jsx)(s.az,{marginBottom:1,children:(0,c.jsx)(s.KJ,{size:o?"300":"200",children:t.bt("精选赞助商", "Featured sponsor", "board.Headers.BoardHeader.BoardHeaderDetails.featuredSponsor", undefined, true)})}),(0,c.jsx)(d.A,{board:h,collaborators:b,showVerified:!0})]})]})}},905995(e,t,o){o.d(t,{A:()=>y});var r=o(335831),a=o(657140),s=o(836737),l=o(396901),i=o(464260),n=o(51968),d=o(410899),c=o(376195),h=o(347552),_=o(135656);let u=()=>{(0,a.useEffect)(()=>{(0,r.A)("EditorialBoardTag","/app/www/common/EditorialBoardTag/EditorialBoardTag.tsx")},[]);let e=(0,l.A)();return(0,_.jsxs)(s.so,{alignItems:"center",direction:"row",gap:1,children:[(0,_.jsx)(s.In,{accessibilityLabel:e.bt("Pinterest 徽标", "Pinterest logo", "board.editorialBoardTag.pinterestLogo", undefined, true),color:"error",icon:"pinterest"}),(0,_.jsx)(s.KJ,{color:"error",size:"200",children:e.bt("精选创建者", "Featured creator", "board.editorialBoardTag.featuredCreatorText", undefined, true)})]})};var b=o(703704),p=o(129625),f=o(389598),m=o(491149),v=o(565452);function g({showAbout:e,setShowAbout:t}){(0,a.useEffect)(()=>{(0,r.A)("AutomagicalBoardTagModal","/app/www/save/board/Headers/BoardHeader/AutomagicalBoard/AutomagicalBoardTagModal.tsx")},[]);let o=(0,l.A)(),i=(0,m.qJ)(),{logContextEvent:n}=(0,p.o)(),[d,c]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{e&&!d&&(c(!0),n({element:16099,event_type:102,view_type:48,view_parameter:4110})),!e&&d&&c(!1)},[d,n,e]),!e)return null;let h=o.bt("关于为你量身定制的图板", "About boards made for you", "boardHeader.automagicalBoardTag.aboutDrawer.modal.title", undefined, true),u=o.bt("这些图板的创建旨在帮助你发现新的风格和灵感。我们会定期更新每个图板，内含你可能会喜欢的新趋势和点子。", "These boards were created to help you discover new styles and inspiration. Each board is updated regularly with fresh trends and ideas we think you might like.", "boardHeader.automagicalBoardTag.aboutDrawer.modal.body", undefined, true),b=i?(0,_.jsxs)(s.so,{justifyContent:"between",children:[(0,_.jsx)(s.az,{marginTop:2,paddingX:2,children:(0,_.jsx)(s._Y,{accessibilityLevel:1,size:"600",children:h})}),(0,_.jsx)(s.K0,{accessibilityLabel:o.bt("关闭", "Close", "profileHeader.aboutDrawer.closeModalButton", undefined, true),icon:"close",iconColor:"default",onClick:()=>t(!1),size:"lg"})]}):(0,_.jsx)(s.az,{marginTop:4,paddingX:4,children:(0,_.jsx)(s._Y,{accessibilityLevel:1,size:"400",children:h})}),g=i?null:(0,_.jsx)(s.az,{paddingY:6,children:(0,_.jsx)(s.so,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,_.jsx)(s.$n,{color:"secondary",onClick:()=>t(!1),size:"lg",text:"Close"})})});return(0,_.jsx)(f.Ay,{accessibilityModalLabel:o.bt("关于为你量身定制的图板", "About boards made for you", "boardHeader.automagicalBoardTag.aboutDrawer.modal", undefined, true),footer:g,heading:b,layerZIndex:new s.K5([v.A]),onDismiss:()=>t(!1),size:"sm",children:(0,_.jsx)(s.az,{marginBottom:8*!!i,paddingX:i?8:4,paddingY:4*!i,children:(0,_.jsx)(s.KJ,{size:"300",children:u})})})}function A({size:e="200",tagTitle:t}){(0,a.useEffect)(()=>{(0,r.A)("AutomagicalBoardTag","/app/www/save/board/Headers/BoardHeader/AutomagicalBoard/AutomagicalBoardTag.tsx")},[]);let o=(0,l.A)(),{showAbout:i,setShowAbout:n}=(0,a.use)(b.A);return(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(s.Rp,{accessibilityLabel:o.bt("展开关于为你量身定制的图板", "Expand About boards made for you", "boardHeader.automagicalBoardTag.moreTextAccessibilityLabel", undefined, true),fullWidth:!1,onTap:()=>{n(!0)},children:(0,_.jsxs)(s.so,{alignItems:"center",direction:"row",gap:1,children:[(0,_.jsx)(s.In,{accessibilityLabel:o.bt("Pinterest 徽标", "Pinterest logo", "board.editorialBoardTag.pinterestLogo", undefined, true),color:"primary",icon:"pinterest"}),(0,_.jsx)(s.KJ,{size:e,weight:"bold",children:t})]})}),(0,_.jsx)(g,{setShowAbout:n,showAbout:i})]})}function x({size:e="200"}){(0,a.useEffect)(()=>{(0,r.A)("FeaturedBoardTag","/app/www/save/board/Headers/BoardHeader/FeaturedBoardTag.tsx")},[]);let t=(0,l.A)().bt("特色图板", "Featured board", "boardHeader.featuredBoardTag.label", undefined, true);return(0,_.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{display:"inline-flex"}},children:(0,_.jsxs)(s.so,{alignItems:"center",gap:1,children:[(0,_.jsx)(s.In,{accessibilityLabel:t,color:"default",icon:"tag"}),(0,_.jsx)(s.KJ,{align:"center",color:"default",size:e,children:t})]})})}function w(e){(0,a.useEffect)(()=>{(0,r.A)("SecretIcon","/app/www/save/board/Headers/BoardHeader/SecretIcon.tsx")},[]);let t=(0,l.A)(),{color:o,size:i}=e;return(0,_.jsx)(s.In,{accessibilityLabel:t.bt("私密图板", "secret board", "accessible label for secret board icon", undefined, true),color:o,icon:"lock",size:i})}let j=({children:e})=>{let t=e.filter(e=>!!e);return(0,_.jsx)(s.so,{dataTestId:"board-count-info",children:t.map((e,o)=>(0,_.jsxs)(a.Fragment,{children:[e,o<t.length-1&&(0,_.jsx)(h.A,{color:"subtle"})]},o))})},z=({size:e,children:t,dataTestId:o})=>(0,_.jsx)(s.KJ,{color:"subtle",dataTestId:o,size:e,children:t});function y({fontSize:e,isArchived:t,isAutomagical:o=!1,isFeaturedBoard:h=!1,isSecret:b,lastModified:p,pinCount:f,sectionCount:m,showEditorialBoardTag:v,showPinCount:g=!0,subtitle:y,tagTitle:P}){(0,a.useEffect)(()=>{(0,r.A)("BoardSummary","/app/www/save/board/Headers/BoardHeader/BoardHeaderDetails/BoardSummary.tsx")},[]);let C=(0,l.A)(),B=(0,n.A)(),{locale:I}=(0,c._8)(),T=(0,i.A)();return(0,_.jsxs)(s.so,{alignItems:"center",dataTestId:"board-summary-container",justifyContent:"start",children:[t&&(0,_.jsxs)(s.so,{alignItems:"center",dataTestId:"archived-board-icon-label",gap:1,children:[(0,_.jsx)(s.In,{accessibilityLabel:C.bt("表示已存档的图板的图标", "Icon indicating a board that is archived", "board.Headers.BoardHeader.BoardHeaderDetails.archived", undefined, true),color:"subtle",icon:"file-box",size:16}),(0,_.jsxs)(s.KJ,{color:"subtle",size:e,children:[C.bt("已存档", "Archived", "board.Headers.BoardHeader.BoardHeaderDetails.archived", undefined, true),"  ·  "]})]}),b&&(0,_.jsxs)(s.so,{alignItems:"center",dataTestId:"secret-board-icon-label",gap:1,children:[(0,_.jsx)(w,{color:"subtle",size:16}),(0,_.jsxs)(s.KJ,{color:"subtle",size:e,children:[C.bt("私密", "Secret", "board.Headers.BoardHeader.BoardHeaderDetails.secret", undefined, true),"  ·  "]})]}),(0,_.jsxs)(j,{children:[h&&(0,_.jsx)(x,{}),v&&!h&&(0,_.jsx)(u,{}),o&&P&&(0,_.jsx)(A,{tagTitle:P}),g&&(0,_.jsx)(z,{dataTestId:"pin-count",size:e,children:(0,d.vQ)(C.nbt(["{{ count }} 张 Pin 图"], f, "board.Headers.BoardHeader.BoardSummary.count", true),{count:B(I,f,{})})}),m>0&&(0,_.jsx)(z,{size:e,children:m>0&&(0,d.vQ)(C.nbt(["{{ sectionCount }} 个图板区块"], m, "board.Headers.BoardHeader.BoardSummary.sectionCount", true),{sectionCount:B(I,m,{})})}),o&&y&&(0,_.jsx)(z,{dataTestId:"subtitle",size:e,children:y}),p&&(0,_.jsx)(z,{dataTestId:"last-updated-date",size:e,children:(0,d.vQ)(C.bt("{{ lastModifiedDate }}", "{{ lastModifiedDate }}", "boardPage.header.attribution.lastModified", undefined, true),{lastModifiedDate:T(p,!0)})})]})]})}},581931(e,t,o){o.d(t,{A:()=>n});var r=o(335831),a=o(657140),s=o(836737),l=o(396901),i=o(135656);function n({boardActions:e,imageUrl:t,imageWidth:o}){(0,a.useEffect)(()=>{(0,r.A)("BoardHeaderImage","/app/www/save/board/Headers/BoardHeader/BoardHeaderImage/BoardHeaderImage.tsx")},[]);let n=(0,l.A)();return(0,i.jsx)(s.n1,{height:360,rounding:600,wash:!0,width:o||540,children:(0,i.jsx)(s._V,{alt:n.bt("图板标题图片", "Board Header Image", "save.board.headers.boardHeader.boardHeaderImage", undefined, true),fit:"cover",naturalHeight:360,naturalWidth:o||540,src:t,children:e&&(0,i.jsx)(s.so,{justifyContent:"end",children:(0,i.jsx)(s.az,{"data-test-id":"board-actions",paddingX:4,paddingY:4,children:e})})})})}},855214(e,t,o){o.d(t,{A:()=>n});var r=o(335831),a=o(657140),s=o(836737),l=o(396901),i=o(135656);function n({isBoardPreviewMode:e,setBoardPreviewMode:t}){(0,a.useEffect)(()=>{(0,r.A)("BoardPreviewButton","/app/www/save/board/Headers/BoardHeader/BoardPreviewButton.tsx")},[]);let o=(0,l.A)();return(0,i.jsx)(s.K0,{accessibilityLabel:o.bt("图板预览", "Board preview", "boardPreview.iconButton.accessibilityLabel", undefined, true),bgColor:"default",icon:e?"eye-slash":"eye",iconColor:"default",onClick:()=>t(!e),size:"lg"})}},997100(e,t,o){o.d(t,{A:()=>u});var r=o(335831),a=o(657140),s=o(836737),l=o(129625),i=o(396901),n=o(588779),d=o(410899),c=o(794196),h=o(727365),_=o(135656);function u({board:e,collaborators:t,overflowNumber:o=0,showVerified:u=!1}){(0,a.useEffect)(()=>{(0,r.A)("CollaboratorNames","/app/www/save/board/Headers/BoardHeader/CollaboratorNames.tsx")},[]);let b=(0,i.A)(),p=(0,a.useRef)(null),{logContextEvent:f}=(0,l.o)(),[m,v]=(0,a.useState)(!1),g=t.map((e,t)=>{if(e.isDim)return null;let{ads_only_profile_site:o,href:r,is_ads_only_profile:a,name:l}=e,i=a&&o,n=(i?o:r)||"",d=(r||l)+t,{verified_identity:c,is_verified_merchant:b}=e,p=c?.verified;return(0,_.jsx)(s.KJ,{inline:!0,weight:"bold",children:(0,_.jsx)(s.N_,{display:"inlineBlock",href:n,onClick:()=>{i&&f({event_type:9371,element:13382,aux_data:{aop_origin:"CollaboratorNames"}})},rel:i?"nofollow":"none",target:i?"blank":null,underline:"none",children:u&&(b||p)?(0,_.jsx)(h.A,{badgeSize:"sm",badgeSpacing:2,fullName:l,isVerifiedIdentity:p,isVerifiedMerchant:b}):l})},d)}).filter(Boolean);return o&&g.push((0,_.jsx)(s.az,{ref:p,display:"inlineBlock",children:(0,_.jsx)(s.Rp,{onTap:()=>v(!0),children:(0,_.jsx)(s.KJ,{inline:!0,weight:"bold",children:(0,d.vQ)(b.nbt(["其他 {{ overflowNumber }} 位合作用户"], o, "legoBoardPageHeader.collaboratorNames.others", true),{overflowNumber:o})})})},"overflowText")),(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(s.KJ,{inline:!0,children:(0,n.Z)(g,b)}),m&&(0,_.jsx)(c.default,{anchor:p.current,board:e,onDismiss:()=>v(!1)})]})}},910263(e,t,o){o.d(t,{A:()=>s,W:()=>a});var r=o(657140);let a=484;function s(){let[e,t]=(0,r.useState)(!1),[o,a]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=()=>{let{innerWidth:e}=window;t(e<780),a(e<1024)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),{isSmallerImage:e,isSmallScreen:o}}},388657(e,t,o){o.d(t,{V:()=>a});let r=RegExp("^[^A-Za-zÀ-ÖØ-öA-Za-zÀ-ÖØ-ö︀-﹯﻽-￿]*[֑-߿יִ-﷽ﹰ-ﻼ]");function a(e){return r.test(e||"")?"rtl":"ltr"}},565452(e,t,o){o.d(t,{A:()=>r});let r=o(228265).vt}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/11292.zh_CN-d10eaf718c3cd0b0.mjs.map